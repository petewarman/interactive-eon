var requirejs,require,define;!function(e){function t(e,t){return v.call(e,t)}function n(e,t){var n,i,r,s,a,o,l,u,c,d,p,h=t&&t.split("/"),f=m.map,g=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=e.split("/"),a=e.length-1,m.nodeIdCompat&&y.test(e[a])&&(e[a]=e[a].replace(y,"")),e=h.slice(0,h.length-1).concat(e),c=0;c<e.length;c+=1)if(p=e[c],"."===p)e.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((h||g)&&f){for(n=e.split("/"),c=n.length;c>0;c-=1){if(i=n.slice(0,c).join("/"),h)for(d=h.length;d>0;d-=1)if(r=f[h.slice(0,d).join("/")],r&&(r=r[i])){s=r,o=c;break}if(s)break;!l&&g&&g[i]&&(l=g[i],u=c)}!s&&l&&(s=l,o=u),s&&(n.splice(0,o,s),e=n.join("/"))}return e}function i(t,n){return function(){var i=w.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),c.apply(e,i.concat([t,n]))}}function r(e){return function(t){return n(t,e)}}function s(e){return function(t){h[e]=t}}function a(n){if(t(f,n)){var i=f[n];delete f[n],g[n]=!0,u.apply(e,i)}if(!t(h,n)&&!t(g,n))throw new Error("No "+n);return h[n]}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function l(e){return function(){return m&&m.config&&m.config[e]||{}}}var u,c,d,p,h={},f={},m={},g={},v=Object.prototype.hasOwnProperty,w=[].slice,y=/\.js$/;d=function(e,t){var i,s=o(e),l=s[0];return e=s[1],l&&(l=n(l,t),i=a(l)),l?e=i&&i.normalize?i.normalize(e,r(t)):n(e,t):(e=n(e,t),s=o(e),l=s[0],e=s[1],l&&(i=a(l))),{f:l?l+"!"+e:e,n:e,pr:l,p:i}},p={require:function(e){return i(e)},exports:function(e){var t=h[e];return"undefined"!=typeof t?t:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:l(e)}}},u=function(n,r,o,l){var u,c,m,v,w,y,x=[],b=typeof o;if(l=l||n,"undefined"===b||"function"===b){for(r=!r.length&&o.length?["require","exports","module"]:r,w=0;w<r.length;w+=1)if(v=d(r[w],l),c=v.f,"require"===c)x[w]=p.require(n);else if("exports"===c)x[w]=p.exports(n),y=!0;else if("module"===c)u=x[w]=p.module(n);else if(t(h,c)||t(f,c)||t(g,c))x[w]=a(c);else{if(!v.p)throw new Error(n+" missing "+c);v.p.load(v.n,i(l,!0),s(c),{}),x[w]=h[c]}m=o?o.apply(h[n],x):void 0,n&&(u&&u.exports!==e&&u.exports!==h[n]?h[n]=u.exports:m===e&&y||(h[n]=m))}else n&&(h[n]=o)},requirejs=require=c=function(t,n,i,r,s){if("string"==typeof t)return p[t]?p[t](n):a(d(t,n).f);if(!t.splice){if(m=t,m.deps&&c(m.deps,m.callback),!n)return;n.splice?(t=n,n=i,i=null):t=e}return n=n||function(){},"function"==typeof i&&(i=r,r=s),r?u(e,t,n,i):setTimeout(function(){u(e,t,n,i)},4),c},c.config=function(e){return c(e)},requirejs._defined=h,define=function(e,n,i){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");n.splice||(i=n,n=[]),t(h,e)||t(f,e)||(f[e]=[e,n,i])},define.amd={jQuery:!0}}(),define("../node_modules/almond/almond",function(){}),function(){function e(e){function t(t,n,i,r,s,a){for(;s>=0&&a>s;s+=e){var o=r?r[s]:s;i=n(i,t[o],o,t)}return i}return function(n,i,r,s){i=y(i,s,4);var a=!E(n)&&w.keys(n),o=(a||n).length,l=e>0?0:o-1;return arguments.length<3&&(r=n[a?a[l]:l],l+=e),t(n,i,r,a,l,o)}}function t(e){return function(t,n,i){n=x(n,i);for(var r=k(t),s=e>0?0:r-1;s>=0&&r>s;s+=e)if(n(t[s],s,t))return s;return-1}}function n(e,t,n){return function(i,r,s){var a=0,o=k(i);if("number"==typeof s)e>0?a=s>=0?s:Math.max(s+o,a):o=s>=0?Math.min(s+1,o):s+o+1;else if(n&&s&&o)return s=n(i,r),i[s]===r?s:-1;if(r!==r)return s=t(c.call(i,a,o),w.isNaN),s>=0?s+a:-1;for(s=e>0?a:o-1;s>=0&&o>s;s+=e)if(i[s]===r)return s;return-1}}function i(e,t){var n=I.length,i=e.constructor,r=w.isFunction(i)&&i.prototype||o,s="constructor";for(w.has(e,s)&&!w.contains(t,s)&&t.push(s);n--;)s=I[n],s in e&&e[s]!==r[s]&&!w.contains(t,s)&&t.push(s)}var r=this,s=r._,a=Array.prototype,o=Object.prototype,l=Function.prototype,u=a.push,c=a.slice,d=o.toString,p=o.hasOwnProperty,h=Array.isArray,f=Object.keys,m=l.bind,g=Object.create,v=function(){},w=function(e){return e instanceof w?e:this instanceof w?void(this._wrapped=e):new w(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=w),exports._=w):r._=w,w.VERSION="1.8.3";var y=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,s){return e.call(t,n,i,r,s)}}return function(){return e.apply(t,arguments)}},x=function(e,t,n){return null==e?w.identity:w.isFunction(e)?y(e,t,n):w.isObject(e)?w.matcher(e):w.property(e)};w.iteratee=function(e,t){return x(e,t,1/0)};var b=function(e,t){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var s=arguments[r],a=e(s),o=a.length,l=0;o>l;l++){var u=a[l];t&&void 0!==n[u]||(n[u]=s[u])}return n}},S=function(e){if(!w.isObject(e))return{};if(g)return g(e);v.prototype=e;var t=new v;return v.prototype=null,t},T=function(e){return function(t){return null==t?void 0:t[e]}},C=Math.pow(2,53)-1,k=T("length"),E=function(e){var t=k(e);return"number"==typeof t&&t>=0&&C>=t};w.each=w.forEach=function(e,t,n){t=y(t,n);var i,r;if(E(e))for(i=0,r=e.length;r>i;i++)t(e[i],i,e);else{var s=w.keys(e);for(i=0,r=s.length;r>i;i++)t(e[s[i]],s[i],e)}return e},w.map=w.collect=function(e,t,n){t=x(t,n);for(var i=!E(e)&&w.keys(e),r=(i||e).length,s=Array(r),a=0;r>a;a++){var o=i?i[a]:a;s[a]=t(e[o],o,e)}return s},w.reduce=w.foldl=w.inject=e(1),w.reduceRight=w.foldr=e(-1),w.find=w.detect=function(e,t,n){var i;return i=E(e)?w.findIndex(e,t,n):w.findKey(e,t,n),void 0!==i&&-1!==i?e[i]:void 0},w.filter=w.select=function(e,t,n){var i=[];return t=x(t,n),w.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},w.reject=function(e,t,n){return w.filter(e,w.negate(x(t)),n)},w.every=w.all=function(e,t,n){t=x(t,n);for(var i=!E(e)&&w.keys(e),r=(i||e).length,s=0;r>s;s++){var a=i?i[s]:s;if(!t(e[a],a,e))return!1}return!0},w.some=w.any=function(e,t,n){t=x(t,n);for(var i=!E(e)&&w.keys(e),r=(i||e).length,s=0;r>s;s++){var a=i?i[s]:s;if(t(e[a],a,e))return!0}return!1},w.contains=w.includes=w.include=function(e,t,n,i){return E(e)||(e=w.values(e)),("number"!=typeof n||i)&&(n=0),w.indexOf(e,t,n)>=0},w.invoke=function(e,t){var n=c.call(arguments,2),i=w.isFunction(t);return w.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,n){var i,r,s=-(1/0),a=-(1/0);if(null==t&&null!=e){e=E(e)?e:w.values(e);for(var o=0,l=e.length;l>o;o++)i=e[o],i>s&&(s=i)}else t=x(t,n),w.each(e,function(e,n,i){r=t(e,n,i),(r>a||r===-(1/0)&&s===-(1/0))&&(s=e,a=r)});return s},w.min=function(e,t,n){var i,r,s=1/0,a=1/0;if(null==t&&null!=e){e=E(e)?e:w.values(e);for(var o=0,l=e.length;l>o;o++)i=e[o],s>i&&(s=i)}else t=x(t,n),w.each(e,function(e,n,i){r=t(e,n,i),(a>r||r===1/0&&s===1/0)&&(s=e,a=r)});return s},w.shuffle=function(e){for(var t,n=E(e)?e:w.values(e),i=n.length,r=Array(i),s=0;i>s;s++)t=w.random(0,s),t!==s&&(r[s]=r[t]),r[t]=n[s];return r},w.sample=function(e,t,n){return null==t||n?(E(e)||(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,Math.max(0,t))},w.sortBy=function(e,t,n){return t=x(t,n),w.pluck(w.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var M=function(e){return function(t,n,i){var r={};return n=x(n,i),w.each(t,function(i,s){var a=n(i,s,t);e(r,i,a)}),r}};w.groupBy=M(function(e,t,n){w.has(e,n)?e[n].push(t):e[n]=[t]}),w.indexBy=M(function(e,t,n){e[n]=t}),w.countBy=M(function(e,t,n){w.has(e,n)?e[n]++:e[n]=1}),w.toArray=function(e){return e?w.isArray(e)?c.call(e):E(e)?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:E(e)?e.length:w.keys(e).length},w.partition=function(e,t,n){t=x(t,n);var i=[],r=[];return w.each(e,function(e,n,s){(t(e,n,s)?i:r).push(e)}),[i,r]},w.first=w.head=w.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:w.initial(e,e.length-t)},w.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},w.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:w.rest(e,Math.max(0,e.length-t))},w.rest=w.tail=w.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var A=function(e,t,n,i){for(var r=[],s=0,a=i||0,o=k(e);o>a;a++){var l=e[a];if(E(l)&&(w.isArray(l)||w.isArguments(l))){t||(l=A(l,t,n));var u=0,c=l.length;for(r.length+=c;c>u;)r[s++]=l[u++]}else n||(r[s++]=l)}return r};w.flatten=function(e,t){return A(e,t,!1)},w.without=function(e){return w.difference(e,c.call(arguments,1))},w.uniq=w.unique=function(e,t,n,i){w.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=x(n,i));for(var r=[],s=[],a=0,o=k(e);o>a;a++){var l=e[a],u=n?n(l,a,e):l;t?(a&&s===u||r.push(l),s=u):n?w.contains(s,u)||(s.push(u),r.push(l)):w.contains(r,l)||r.push(l)}return r},w.union=function(){return w.uniq(A(arguments,!0,!0))},w.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=k(e);r>i;i++){var s=e[i];if(!w.contains(t,s)){for(var a=1;n>a&&w.contains(arguments[a],s);a++);a===n&&t.push(s)}}return t},w.difference=function(e){var t=A(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,k).length||0,n=Array(t),i=0;t>i;i++)n[i]=w.pluck(e,i);return n},w.object=function(e,t){for(var n={},i=0,r=k(e);r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},w.findIndex=t(1),w.findLastIndex=t(-1),w.sortedIndex=function(e,t,n,i){n=x(n,i,1);for(var r=n(t),s=0,a=k(e);a>s;){var o=Math.floor((s+a)/2);n(e[o])<r?s=o+1:a=o}return s},w.indexOf=n(1,w.findIndex,w.sortedIndex),w.lastIndexOf=n(-1,w.findLastIndex),w.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),s=0;i>s;s++,e+=n)r[s]=e;return r};var _=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var s=S(e.prototype),a=e.apply(s,r);return w.isObject(a)?a:s};w.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,c.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return _(e,i,t,this,n.concat(c.call(arguments)))};return i},w.partial=function(e){var t=c.call(arguments,1),n=function(){for(var i=0,r=t.length,s=Array(r),a=0;r>a;a++)s[a]=t[a]===w?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return _(e,n,this,this,s)};return n},w.bindAll=function(e){var t,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(t=1;i>t;t++)n=arguments[t],e[n]=w.bind(e[n],e);return e},w.memoize=function(e,t){var n=function(i){var r=n.cache,s=""+(t?t.apply(this,arguments):i);return w.has(r,s)||(r[s]=e.apply(this,arguments)),r[s]};return n.cache={},n},w.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,n){var i,r,s,a=null,o=0;n||(n={});var l=function(){o=n.leading===!1?0:w.now(),a=null,s=e.apply(i,r),a||(i=r=null)};return function(){var u=w.now();o||n.leading!==!1||(o=u);var c=t-(u-o);return i=this,r=arguments,0>=c||c>t?(a&&(clearTimeout(a),a=null),o=u,s=e.apply(i,r),a||(i=r=null)):a||n.trailing===!1||(a=setTimeout(l,c)),s}},w.debounce=function(e,t,n){var i,r,s,a,o,l=function(){var u=w.now()-a;t>u&&u>=0?i=setTimeout(l,t-u):(i=null,n||(o=e.apply(s,r),i||(s=r=null)))};return function(){s=this,r=arguments,a=w.now();var u=n&&!i;return i||(i=setTimeout(l,t)),u&&(o=e.apply(s,r),s=r=null),o}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},w.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},w.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},w.once=w.partial(w.before,2);var P=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(f)return f(e);var t=[];for(var n in e)w.has(e,n)&&t.push(n);return P&&i(e,t),t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var n in e)t.push(n);return P&&i(e,t),t},w.values=function(e){for(var t=w.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},w.mapObject=function(e,t,n){t=x(t,n);for(var i,r=w.keys(e),s=r.length,a={},o=0;s>o;o++)i=r[o],a[i]=t(e[i],i,e);return a},w.pairs=function(e){for(var t=w.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},w.invert=function(e){for(var t={},n=w.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},w.functions=w.methods=function(e){var t=[];for(var n in e)w.isFunction(e[n])&&t.push(n);return t.sort()},w.extend=b(w.allKeys),w.extendOwn=w.assign=b(w.keys),w.findKey=function(e,t,n){t=x(t,n);for(var i,r=w.keys(e),s=0,a=r.length;a>s;s++)if(i=r[s],t(e[i],i,e))return i},w.pick=function(e,t,n){var i,r,s={},a=e;if(null==a)return s;w.isFunction(t)?(r=w.allKeys(a),i=y(t,n)):(r=A(arguments,!1,!1,1),i=function(e,t,n){return t in n},a=Object(a));for(var o=0,l=r.length;l>o;o++){var u=r[o],c=a[u];i(c,u,a)&&(s[u]=c)}return s},w.omit=function(e,t,n){if(w.isFunction(t))t=w.negate(t);else{var i=w.map(A(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(i,t)}}return w.pick(e,t,n)},w.defaults=b(w.allKeys,!0),w.create=function(e,t){var n=S(e);return t&&w.extendOwn(n,t),n},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var n=w.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),s=0;i>s;s++){var a=n[s];if(t[a]!==r[a]||!(a in r))return!1}return!0};var z=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var r=d.call(e);if(r!==d.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var s="[object Array]"===r;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,o=t.constructor;if(a!==o&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(o)&&o instanceof o)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),s){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!z(e[l],t[l],n,i))return!1}else{var u,c=w.keys(e);if(l=c.length,w.keys(t).length!==l)return!1;for(;l--;)if(u=c[l],!w.has(t,u)||!z(e[u],t[u],n,i))return!1}return n.pop(),i.pop(),!0};w.isEqual=function(e,t){return z(e,t)},w.isEmpty=function(e){return null==e?!0:E(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e))?0===e.length:0===w.keys(e).length},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=h||function(e){return"[object Array]"===d.call(e)},w.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return w.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(e){return"function"==typeof e||!1}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===d.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&p.call(e,t)},w.noConflict=function(){return r._=s,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=T,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,n){var i=Array(Math.max(0,e));t=y(t,n,1);for(var r=0;e>r;r++)i[r]=t(r);return i},w.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},w.now=Date.now||function(){return(new Date).getTime()};var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=w.invert(O),j=function(e){var t=function(t){return e[t]},n="(?:"+w.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};w.escape=j(O),w.unescape=j(L),w.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),w.isFunction(i)?i.call(e):i};var N=0;w.uniqueId=function(e){var t=++N+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,D=function(e){return"\\"+F[e]};w.template=function(e,t,n){!t&&n&&(t=n),t=w.defaults({},t,w.templateSettings);var i=RegExp([(t.escape||B).source,(t.interpolate||B).source,(t.evaluate||B).source].join("|")+"|$","g"),r=0,s="__p+='";e.replace(i,function(t,n,i,a,o){return s+=e.slice(r,o).replace(q,D),r=o+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(s+="';\n"+a+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var a=new Function(t.variable||"obj","_",s)}catch(o){throw o.source=s,o}var l=function(e){return a.call(this,e,w)},u=t.variable||"obj";return l.source="function("+u+"){\n"+s+"}",l},w.chain=function(e){var t=w(e);return t._chain=!0,t};var V=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var n=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),V(this,n.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];w.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],V(this,n)}}),w.each(["concat","join","slice"],function(e){var t=a[e];w.prototype[e]=function(){return V(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return w})}.call(this),define("jquery",[],function(){return jQuery}),function(e){var t="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,i,r){t.Backbone=e(t,r,n,i)});else if("undefined"!=typeof exports){var n,i=require("underscore");try{n=require("jquery")}catch(r){}e(t,exports,i,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(function(e,t,n,i){var r=e.Backbone,s=Array.prototype.slice;t.VERSION="1.2.3",t.$=i,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=function(e,t,i){switch(e){case 1:return function(){return n[t](this[i])};case 2:return function(e){return n[t](this[i],e)};case 3:return function(e,r){return n[t](this[i],l(e,this),r)};case 4:return function(e,r,s){return n[t](this[i],l(e,this),r,s)};default:return function(){var e=s.call(arguments);return e.unshift(this[i]),n[t].apply(n,e)}}},o=function(e,t,i){n.each(t,function(t,r){n[r]&&(e.prototype[r]=a(t,r,i))})},l=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?u(e):n.isString(e)?function(t){return t.get(e)}:e},u=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},d=/\s+/,p=function(e,t,i,r,s){var a,o=0;if(i&&"object"==typeof i){void 0!==r&&"context"in s&&void 0===s.context&&(s.context=r);for(a=n.keys(i);o<a.length;o++)t=p(e,t,a[o],i[a[o]],s)}else if(i&&d.test(i))for(a=i.split(d);o<a.length;o++)t=e(t,a[o],r,s);else t=e(t,i,r,s);return t};c.on=function(e,t,n){return h(this,e,t,n)};var h=function(e,t,n,i,r){if(e._events=p(f,e._events||{},t,n,{context:i,ctx:e,listening:r}),r){var s=e._listeners||(e._listeners={});s[r.id]=r}return e};c.listenTo=function(e,t,i){if(!e)return this;var r=e._listenId||(e._listenId=n.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),a=s[r];if(!a){var o=this._listenId||(this._listenId=n.uniqueId("l"));a=s[r]={obj:e,objId:r,id:o,listeningTo:s,count:0}}return h(e,t,i,this,a),this};var f=function(e,t,n,i){if(n){var r=e[t]||(e[t]=[]),s=i.context,a=i.ctx,o=i.listening;o&&o.count++,r.push({callback:n,context:s,ctx:s||a,listening:o})}return e};c.off=function(e,t,n){return this._events?(this._events=p(m,this._events,e,t,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(e,t,i){var r=this._listeningTo;if(!r)return this;for(var s=e?[e._listenId]:n.keys(r),a=0;a<s.length;a++){var o=r[s[a]];if(!o)break;o.obj.off(t,i,this)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var m=function(e,t,i,r){if(e){var s,a=0,o=r.context,l=r.listeners;if(t||i||o){for(var u=t?[t]:n.keys(e);a<u.length;a++){t=u[a];var c=e[t];if(!c)break;for(var d=[],p=0;p<c.length;p++){var h=c[p];i&&i!==h.callback&&i!==h.callback._callback||o&&o!==h.context?d.push(h):(s=h.listening,s&&0===--s.count&&(delete l[s.id],delete s.listeningTo[s.objId]))}d.length?e[t]=d:delete e[t]}return n.size(e)?e:void 0}for(var f=n.keys(l);a<f.length;a++)s=l[f[a]],delete l[s.id],delete s.listeningTo[s.objId]}};c.once=function(e,t,i){var r=p(g,{},e,t,n.bind(this.off,this));return this.on(r,void 0,i)},c.listenToOnce=function(e,t,i){var r=p(g,{},t,i,n.bind(this.stopListening,this,e));return this.listenTo(e,r)};var g=function(e,t,i,r){if(i){var s=e[t]=n.once(function(){r(t,s),i.apply(this,arguments)});s._callback=i}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),i=0;t>i;i++)n[i]=arguments[i+1];return p(v,this._events,e,void 0,n),this};var v=function(e,t,n,i){if(e){var r=e[t],s=e.all;r&&s&&(s=s.slice()),r&&w(r,i),s&&w(s,[t].concat(i))}return e},w=function(e,t){var n,i=-1,r=e.length,s=t[0],a=t[1],o=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,a);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,a,o);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}};c.bind=c.on,c.unbind=c.off,n.extend(t,c);var y=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,i){if(null==e)return this;var r;if("object"==typeof e?(r=e,i=t):(r={})[e]=t,i||(i={}),!this._validate(r,i))return!1;var s=i.unset,a=i.silent,o=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,d=this._previousAttributes;for(var p in r)t=r[p],n.isEqual(u[p],t)||o.push(p),n.isEqual(d[p],t)?delete c[p]:c[p]=t,s?delete u[p]:u[p]=t;if(this.id=this.get(this.idAttribute),!a){o.length&&(this._pending=i);for(var h=0;h<o.length;h++)this.trigger("change:"+o[h],this,u[o[h]],i)}if(l)return this;if(!a)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t=this._changing?this._previousAttributes:this.attributes,i={};for(var r in e){var s=e[r];n.isEqual(t[r],s)||(i[r]=s)}return n.size(i)?i:!1},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,i=e.success;return e.success=function(n){var r=e.parse?t.parse(n,e):n;return t.set(r,e)?(i&&i.call(e.context,t,n,e),void t.trigger("sync",t,n,e)):!1},V(this,e),this.sync("read",this,e)},save:function(e,t,i){var r;null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t,i=n.extend({validate:!0,parse:!0},i);var s=i.wait;if(r&&!s){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var a=this,o=i.success,l=this.attributes;i.success=function(e){a.attributes=l;var t=i.parse?a.parse(e,i):e;return s&&(t=n.extend({},r,t)),t&&!a.set(t,i)?!1:(o&&o.call(i.context,a,e,i),void a.trigger("sync",a,e,i))},V(this,i),r&&s&&(this.attributes=n.extend({},l,r));var u=this.isNew()?"create":i.patch?"patch":"update";"patch"!==u||i.attrs||(i.attrs=r);var c=this.sync(u,this,i);return this.attributes=l,c},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,r=e.wait,s=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){r&&s(),i&&i.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var a=!1;return this.isNew()?n.defer(e.success):(V(this,e),a=this.sync("delete",this,e)),r||s(),a},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||D();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return i?(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1):!0}});var x={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};o(y,x,"attributes");var b=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},S={add:!0,remove:!0,merge:!0},T={add:!0,remove:!1},C=function(e,t,n){n=Math.min(Math.max(n,0),e.length);for(var i=Array(e.length-n),r=t.length,s=0;s<i.length;s++)i[s]=e[s+n];for(s=0;r>s;s++)e[s+n]=t[s];for(s=0;s<i.length;s++)e[s+r+n]=i[s]};n.extend(b.prototype,c,{model:y,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,T))},remove:function(e,t){t=n.extend({},t);var i=!n.isArray(e);e=i?[e]:n.clone(e);var r=this._removeModels(e,t);return!t.silent&&r&&this.trigger("update",this,t),i?r[0]:r},set:function(e,t){if(null!=e){t=n.defaults({},t,S),t.parse&&!this._isModel(e)&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?[e]:e.slice();var r=t.at;null!=r&&(r=+r),0>r&&(r+=this.length+1);for(var s,a=[],o=[],l=[],u={},c=t.add,d=t.merge,p=t.remove,h=!1,f=this.comparator&&null==r&&t.sort!==!1,m=n.isString(this.comparator)?this.comparator:null,g=0;g<e.length;g++){s=e[g];var v=this.get(s);if(v){if(d&&s!==v){var w=this._isModel(s)?s.attributes:s;t.parse&&(w=v.parse(w,t)),v.set(w,t),f&&!h&&(h=v.hasChanged(m))}u[v.cid]||(u[v.cid]=!0,a.push(v)),e[g]=v}else c&&(s=e[g]=this._prepareModel(s,t),s&&(o.push(s),this._addReference(s,t),u[s.cid]=!0,a.push(s)))}if(p){for(g=0;g<this.length;g++)s=this.models[g],u[s.cid]||l.push(s);l.length&&this._removeModels(l,t)}var y=!1,x=!f&&c&&p;if(a.length&&x?(y=this.length!=a.length||n.some(this.models,function(e,t){return e!==a[t]}),this.models.length=0,C(this.models,a,0),this.length=this.models.length):o.length&&(f&&(h=!0),C(this.models,o,null==r?this.length:r),this.length=this.models.length),h&&this.sort({silent:!0}),!t.silent){for(g=0;g<o.length;g++)null!=r&&(t.index=r+g),s=o[g],s.trigger("add",s,this,t);(h||y)&&this.trigger("sort",this,t),(o.length||l.length)&&this.trigger("update",this,t)}return i?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return s.apply(this.models,arguments)},get:function(e){if(null==e)return void 0;var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]},at:function(e){return 0>e&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var i=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===i||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=n.extend({parse:!0},e);var t=e.success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t.call(e.context,i,n,e),i.trigger("sync",i,n,e)},V(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var i=t.wait;if(e=this._prepareModel(e,t),!e)return!1;i||this.add(e,t);var r=this,s=t.success;return t.success=function(e,t,n){i&&r.add(e,n),s&&s.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeModels:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=this.get(e[i]);if(r){var s=this.indexOf(r);this.models.splice(s,1),this.length--,t.silent||(t.index=s,r.trigger("remove",r,this,t)),n.push(r),this._removeReference(r,t)}}return n.length?n:!1},_isModel:function(e){return e instanceof y},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){
delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if("add"!==e&&"remove"!==e||n===this){if("destroy"===e&&this.remove(t,i),"change"===e){var r=this.modelId(t.previousAttributes()),s=this.modelId(t.attributes);r!==s&&(null!=r&&delete this._byId[r],null!=s&&(this._byId[s]=t))}this.trigger.apply(this,arguments)}}});var k={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};o(b,k,"models");var E=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,A)),this._ensureElement(),this.initialize.apply(this,arguments)},M=/^(\S+)\s*(.*)$/,A=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;this.undelegateEvents();for(var t in e){var i=e[t];if(n.isFunction(i)||(i=this[i]),i){var r=t.match(M);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,i,r){var s=_[e];n.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:s,dataType:"json"};if(r.url||(a.url=n.result(i,"url")||D()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){a.type="POST",r.emulateJSON&&(a.data._method=s);var o=r.beforeSend;r.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",s),o?o.apply(this,arguments):void 0}}"GET"===a.type||r.emulateJSON||(a.processData=!1);var l=r.error;r.error=function(e,t,n){r.textStatus=t,r.errorThrown=n,l&&l.call(r.context,e,t,n)};var u=r.xhr=t.ajax(n.extend(a,r));return i.trigger("request",i,u,r),u};var _={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var P=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},I=/\((.*?)\)/g,z=/(\(\?)?:\w+/g,O=/\*\w+/g,L=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(P.prototype,c,{initialize:function(){},route:function(e,i,r){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var s=this;return t.history.route(e,function(n){var a=s._extractParameters(e,n);s.execute(r,a,i)!==!1&&(s.trigger.apply(s,["route:"+i].concat(a)),s.trigger("route",i,a),t.history.trigger("route",s,i,a))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(L,"\\$&").replace(I,"(?:$1)?").replace(z,function(e,t){return t?e:"([^/?]+)"}).replace(O,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var j=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,B=/^\/+|\/+$/g,F=/#.*$/;j.started=!1,n.extend(j.prototype,c,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(N,"")},start:function(e){if(j.started)throw new Error("Backbone.history has already been started");if(j.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(B,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var s=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};return this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),j.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(e){return this.matchRoot()?(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})):!1},navigate:function(e,t){if(!j.started)return!1;t&&t!==!0||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;(""===e||"?"===e.charAt(0))&&(n=n.slice(0,-1)||"/");var i=n+e;if(e=this.decodeFragment(e.replace(F,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;t.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new j;var q=function(e,t){var i,r=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};y.extend=b.extend=P.extend=E.extend=j.extend=q;var D=function(){throw new Error('A "url" property or function must be specified')},V=function(e,t){var n=t.error;t.error=function(i){n&&n.call(t.context,e,i,t),e.trigger("error",e,i,t)}};return t}),define("text",["module"],function(e){"use strict";var t,n,i,r,s,a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u="undefined"!=typeof location&&location.href,c=u&&location.protocol&&location.protocol.replace(/\:/,""),d=u&&location.hostname,p=u&&(location.port||void 0),h={},f=e.config&&e.config()||{};return t={version:"2.0.12",strip:function(e){if(e){e=e.replace(o,"");var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=a[t];try{e=new ActiveXObject(n)}catch(i){}if(e){a=[n];break}}return e},parseName:function(e){var t,n,i,r=!1,s=e.indexOf("."),a=0===e.indexOf("./")||0===e.indexOf("../");return-1!==s&&(!a||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,i=n||t,s=i.indexOf("!"),-1!==s&&(r="strip"===i.substring(s+1),i=i.substring(0,s),n?n=i:t=i),{moduleName:t,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,i,r){var s,a,o,l=t.xdRegExp.exec(e);return l?(s=l[2],a=l[3],a=a.split(":"),o=a[1],a=a[0],!(s&&s!==n||a&&a.toLowerCase()!==i.toLowerCase()||(o||a)&&o!==r)):!0},finishLoad:function(e,n,i,r){i=n?t.strip(i):i,f.isBuild&&(h[e]=i),r(i)},load:function(e,n,i,r){if(r&&r.isBuild&&!r.inlineText)return void i();f.isBuild=r&&r.isBuild;var s=t.parseName(e),a=s.moduleName+(s.ext?"."+s.ext:""),o=n.toUrl(a),l=f.useXhr||t.useXhr;return 0===o.indexOf("empty:")?void i():void(!u||l(o,c,d,p)?t.get(o,function(n){t.finishLoad(e,s.strip,n,i)},function(e){i.error&&i.error(e)}):n([a],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,i)}))},write:function(e,n,i,r){if(h.hasOwnProperty(n)){var s=t.jsEscape(h[n]);i.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,i,r,s){var a=t.parseName(n),o=a.ext?"."+a.ext:"",l=a.moduleName+o,u=i.toUrl(a.moduleName+o)+".js";t.load(l,i,function(n){var i=function(e){return r(u,e)};i.asModule=function(e,t){return r.asModule(e,u,t)},t.write(e,l,i,s)},s)}},"node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(n=require.nodeRequire("fs"),t.get=function(e,t,i){try{var r=n.readFileSync(e,"utf8");0===r.indexOf("\ufeff")&&(r=r.substring(1)),t(r)}catch(s){i&&i(s)}}):"xhr"===f.env||!f.env&&t.createXhr()?t.get=function(e,n,i,r){var s,a=t.createXhr();if(a.open("GET",e,!0),r)for(s in r)r.hasOwnProperty(s)&&a.setRequestHeader(s.toLowerCase(),r[s]);f.onXhr&&f.onXhr(a,e),a.onreadystatechange=function(t){var r,s;4===a.readyState&&(r=a.status||0,r>399&&600>r?(s=new Error(e+" HTTP status: "+r),s.xhr=a,i&&i(s)):n(a.responseText),f.onXhrComplete&&f.onXhrComplete(a,e))},a.send(null)}:"rhino"===f.env||!f.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var n,i,r="utf-8",s=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),o=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),r)),l="";try{for(n=new java.lang.StringBuffer,i=o.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=o.readLine());)n.append(a),n.append(i);l=String(n.toString())}finally{o.close()}t(l)}:("xpconnect"===f.env||!f.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,r=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in i,t.get=function(e,t){var n,a,o,l={};s&&(e=e.replace(/\//g,"\\")),o=new FileUtils.File(e);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream),n.init(o,1,0,!1),a=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream),a.init(n,"utf-8",n.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),a.readString(n.available(),l),a.close(),n.close(),t(l.value)}catch(u){throw new Error((o&&o.path||"")+": "+u)}}),t}),define("text!tpl/content.html",[],function(){return'<div id="content">\n\n\n    <div id="questions" class="content-element"></div>\n\n    <div id="summary" class="content-element hidden"></div>\n\n    <!--<div class="content-element"></div>-->\n\n\n</div>'}),define("text!tpl/question.html",[],function(){return'<div id="question-<%= idx %>" class="question content-element hidden ui-<%= question.ui %> bg-<%= question.bg %>"\n     style="<% if (question.bgImg) { %>background-image: url(\'img/<%= question.bgImg %>\') <% } %>">\n\n    <div id="question-inner-<%= idx %>" class="inner">\n\n        <div class="options-wrapper only-tablet-and-below">\n            <h1 class="options-header">\n                <div class="counter"><%= counterSvg %></div>\n\n                <div class="title-wrapper">\n                    <span class="title"><%= question.text %></span>\n                </div>\n            </h1>\n        </div>\n\n        <div class="animation">\n            <img class="preload-image" data-src="<%= imgSrc %>">\n        </div>\n\n        <div class="options-wrapper pink">\n\n            <h1 class="options-header only-above-tablet">\n                <div class="counter"><%= counterSvg %></div>\n\n                <div class="title-wrapper">\n                    <span class="title"><%= question.text %></span>\n                </div>\n            </h1>\n\n            <% question.answers.forEach(function(answer, i) { %>\n\n            <div class="answer" data-value="<%= answer.value %>" data-idx="<%= i %>">\n\n                <%= alphabet[i] %>\n\n                <span class="text" style="background-color: <%= questionColor[i] %>"><%= answer.text %></span>\n\n                <span class="bottom" style="background-color: <%= questionColor[i] %>"></span>\n\n            </div>\n\n            <% }); %>\n\n        </div>\n\n    </div>\n\n</div>'}),define("text!letter-a",[],function(){return'<svg class="letter" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n	 width="52.5px" height="52.5px" viewBox="0 0 52.5 52.5" enable-background="new 0 0 52.5 52.5" xml:space="preserve">\r\n<g>\r\n	<g id="XMLID_1_">\r\n		<g>\r\n			<path class="circle"  d="M26.25,1.25c13.809,0,25,11.192,25,25.003c0,13.808-11.191,24.996-25,24.996\r\n				c-13.808,0-25-11.188-25-24.996C1.25,12.442,12.442,1.25,26.25,1.25z"/>\r\n		</g>\r\n		<g>\r\n			\r\n				<path fill="none" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="\r\n				M51.25,26.253c0,13.808-11.191,24.996-25,24.996c-13.808,0-25-11.188-25-24.996c0-13.811,11.192-25.003,25-25.003\r\n				C40.059,1.25,51.25,12.442,51.25,26.253z"/>\r\n		</g>\r\n	</g>\r\n	<g id="XMLID_2_">\r\n		<g>\r\n			<path fill="#FFFFFF" d="M29.758,11.496l7.363,28.479H30.76l-2.23-10.719h-5.688l-2.214,10.719h-6.229l7.452-28.479H29.758z\r\n				 M27.627,23.69l-1.981-6.262L23.96,23.69H27.627z"/>\r\n			<polygon fill="#92C1E9" points="25.646,17.429 27.627,23.69 23.96,23.69 			"/>\r\n		</g>\r\n		<g>\r\n			\r\n				<polygon fill="none" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="\r\n				14.399,39.975 21.851,11.496 29.758,11.496 37.121,39.975 30.76,39.975 28.529,29.256 22.842,29.256 20.628,39.975 			"/>\r\n			\r\n				<polygon fill="none" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="\r\n				23.96,23.69 25.646,17.429 27.627,23.69 			"/>\r\n		</g>\r\n	</g>\r\n</g>\r\n</svg>\r\n'}),define("text!letter-b",[],function(){return'<svg class="letter" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n	 width="52.5px" height="52.5px" viewBox="0 0 52.5 52.5" enable-background="new 0 0 52.5 52.5" xml:space="preserve">\r\n<g>\r\n	<g id="XMLID_4_">\r\n		<g>\r\n			<circle  class="circle" cx="26.25" cy="26.25" r="25"/>\r\n		</g>\r\n		<g>\r\n			\r\n				<circle fill="none" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="26.25" cy="26.25" r="25"/>\r\n		</g>\r\n	</g>\r\n	<g id="XMLID_3_">\r\n		<g>\r\n			<path fill="#FFFFFF" d="M28.075,26.369c0,0,9.161-0.571,9.069,8.24c-0.115,11.441-17.331,9.039-17.331,9.039V10.461\r\n				c0,0,15.03-2.334,15.704,7.096C36.098,25.682,28.075,26.369,28.075,26.369z M30.865,34.861c0.162-3.508-5.468-3.229-5.468-3.229\r\n				v6.175C25.397,37.807,30.698,38.368,30.865,34.861z M29.354,18.475c0.115-2.861-3.836-2.634-3.836-2.634v5.036\r\n				C25.516,20.877,29.236,21.333,29.354,18.475z"/>\r\n			<path fill="#92C1E9" d="M25.397,31.632c0,0,5.63-0.278,5.468,3.229c-0.167,3.507-5.468,2.945-5.468,2.945V31.632z"/>\r\n			<path fill="#92C1E9" d="M25.516,15.841c0,0,3.952-0.228,3.835,2.634c-0.115,2.858-3.835,2.402-3.835,2.402V15.841z"/>\r\n		</g>\r\n		<g>\r\n			\r\n				<path fill="none" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="\r\n				M19.814,10.461v33.188c0,0,17.215,2.401,17.331-9.039c0.092-8.812-9.069-8.241-9.069-8.241s8.022-0.687,7.442-8.812\r\n				C34.844,8.127,19.814,10.461,19.814,10.461z"/>\r\n			\r\n				<path fill="none" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="\r\n				M25.516,15.841v5.036c0,0,3.72,0.456,3.835-2.402C29.468,15.613,25.516,15.841,25.516,15.841z"/>\r\n			\r\n				<path fill="none" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="\r\n				M25.397,31.632v6.175c0,0,5.301,0.562,5.468-2.945C31.027,31.354,25.397,31.632,25.397,31.632z"/>\r\n		</g>\r\n	</g>\r\n</g>\r\n</svg>\r\n'}),define("text!letter-c",[],function(){return'<svg class="letter" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n	 width="52.5px" height="52.5px" viewBox="0 0 52.5 52.5" enable-background="new 0 0 52.5 52.5" xml:space="preserve">\r\n<g>\r\n	<g id="XMLID_5_">\r\n		<g>\r\n			<circle class="circle" cx="26.25" cy="26.25" r="25"/>\r\n		</g>\r\n		<g>\r\n			\r\n				<circle fill="none" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="26.25" cy="26.25" r="25"/>\r\n		</g>\r\n	</g>\r\n	<g id="XMLID_42_">\r\n		<g>\r\n			<path fill="#FFFFFF" d="M25.67,42.14c-9.515-0.456-11.102-11.441-11.214-16.991C14.34,19.484,15.135,9.062,25.554,9.29\r\n				c10.99,0.238,9.63,10.083,9.63,10.083l-5.553,0.112c0,0-0.452-3.625-3.962-3.625c-3.514,0-4.873,3.058-4.646,9.742\r\n				c0.211,6.226,1.923,9.855,4.985,9.855c3.622,0,3.85-3.966,3.85-3.966l6.004-0.112C35.864,31.378,35.854,42.623,25.67,42.14z"/>\r\n		</g>\r\n		<g>\r\n			\r\n				<path fill="none" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="\r\n				M25.67,42.14c-9.515-0.456-11.102-11.441-11.214-16.991C14.34,19.484,15.135,9.062,25.554,9.29\r\n				c10.99,0.238,9.63,10.083,9.63,10.083l-5.553,0.112c0,0-0.452-3.625-3.962-3.625c-3.514,0-4.873,3.058-4.646,9.742\r\n				c0.211,6.226,1.923,9.855,4.985,9.855c3.622,0,3.85-3.966,3.85-3.966l6.004-0.112C35.864,31.378,35.854,42.623,25.67,42.14z"/>\r\n		</g>\r\n	</g>\r\n</g>\r\n</svg>\r\n'}),define("text!counterSvg",[],function(){return'<svg class="counter" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n	 width="135px" height="134.25px" viewBox="0 0 135 134.25" enable-background="new 0 0 135 134.25" xml:space="preserve">\r\n<g>\r\n	<g id="XMLID_78_">\r\n		<g>\r\n			<circle class="circle" cx="67.501" cy="67" r="65.319"/>\r\n		</g>\r\n		<g>\r\n			\r\n				<circle fill="none" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="67.501" cy="67" r="65.319"/>\r\n		</g>\r\n	</g>\r\n	<g>\r\n		\r\n			<polygon fill="#FFFFFF" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="\r\n			80.41,66.832 71.875,89.473 68.374,89.428 76.908,66.787 		"/>\r\n		<g>\r\n			\r\n				<path fill="#FFFFFF" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="\r\n				M103.627,101.766c0.34,7.153-4.049,11.303-10.674,11.453c-7.482,0.176-11.229-4.953-11.215-10.724\r\n				c0.012-4.777,2.088-7.581,5.004-9.052c-1.799-1.71-2.703-4.187-2.703-6.826c0.012-6.261,4.111-8.537,8.562-8.775\r\n				c5.078-0.277,9.264,2.111,9.555,8.172c0.162,3.406-0.906,6.009-2.842,7.656C101.789,95.166,103.438,97.806,103.627,101.766z\r\n				 M93.002,108.076c3.357-0.075,5.52-2.225,5.406-5.934c-0.1-3.344-2.74-5.18-5.846-5.004c-2.715,0.151-5.23,1.535-5.23,5.369\r\n				C87.32,105.5,89.219,108.164,93.002,108.076z M93.328,90.79c2.578-0.062,4.275-1.709,4.137-4.55\r\n				c-0.125-2.842-2.1-3.973-4.475-3.836c-2.088,0.114-4.012,1.17-4.012,4.111C88.967,88.816,90.426,90.854,93.328,90.79z"/>\r\n		</g>\r\n	</g>\r\n</g>\r\n\r\n\r\n<polygon class="question-counter question-counter-0" fill="#FFFFFF" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="\r\n	36.446,36.764 51.79,19.29 62.656,19.29 62.656,81.729 51.575,81.729 51.575,36.764 43.053,44.861 "/>\r\n<path class="question-counter question-counter-1" fill="#FFFFFF" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="\r\n	M28.22,38.814c0-4.68,1.727-20.17,17.104-20.616c15.379-0.444,22.064,13.374,12.036,28.249\r\n	c-9.611,14.261-16.716,23.847-16.716,23.847h23.012V82.11H27.774l0.446-13.766c-0.632,0.992,6.892-8.711,12.48-17.215\r\n	c1.552-2.366,5.283-7.473,7.132-10.253c5.349-8.052,1.67-11.73-2.926-11.06c-2.792,0.406-4.764,4.149-5.768,8.775\r\n	C35.964,38.925,28.22,38.814,28.22,38.814z"/>\r\n<path class="question-counter question-counter-2" fill="#FFFFFF" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="\r\n	M30.221,65.317c-0.329,10.495,7.15,16.538,15.523,16.782c11.152,0.329,19.612-5.474,18.914-17.929\r\n	C63.894,50.505,49.68,49.41,49.68,49.41s6.232-0.438,10.388-8.2c4.249-7.939,0.327-23.287-14.105-22.958\r\n	c-11.937,0.271-14.336,7.948-14.807,13.936h9.889c0.165-2.784,1.968-5.08,5.247-5.245c3.279-0.163,7.026,2.005,6.396,7.052\r\n	c-0.929,7.433-7.599,8.964-14.814,9.183c0,7.38-0.109,11.698-0.109,11.698s6.777-0.218,11.815,1.846\r\n	c3.341,1.374,5.538,4.638,4.364,10.072c-1.607,7.439-13.776,7.106-14.541-1.147L30.221,65.317z"/>\r\n<polygon class="question-counter question-counter-3" fill="#FFFFFF" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="\r\n	50.685,82.1 50.685,55.374 32.027,55.374 43.338,19.1 51.55,19.1 43.241,46.94 50.685,46.94 50.685,42.362 58.656,42.362 \r\n	58.656,46.94 64.741,46.94 64.741,55.483 59.413,55.483 59.413,82.1 "/>\r\n<path class="question-counter question-counter-4" fill="#FFFFFF" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="\r\n	M32.694,19.1c0,0,0,25.552,0,32.471c2.98-0.106,19.351-3.464,21.078,7.665C56.224,74.992,34.824,71.799,31.949,71\r\n	c0,6.707,0,10.061,0,10.061s33.593,8.029,33.004-20.548C64.526,39.86,41.638,42.129,41.638,42.129V28.522h20.439V19.1H32.694z"/>\r\n<g class="question-counter question-counter-5">\r\n	<g display="inline">\r\n		<path fill="#FFFFFF" d="M32.136,32.761C33.852,25.536,37.013,19.1,47.852,19.1c10.861,0,17.568,7.474,16.371,17.771l-8.333-0.316\r\n			c0,0,0.316-8.242-7.926-8.242c-9.1,0-7.745,17.613-7.745,25.313c0,0,2.913-5.058,12.69-3.252\r\n			c8.784,1.626,12.51,7.858,11.651,17.952c-0.903,10.545-8.513,14.519-18.764,13.661c-12.69-1.084-16.055-12.69-15.513-29.287\r\n			C30.51,46.265,30.668,38.903,32.136,32.761z M49.026,72.978c4.313,0,7.248-2.71,7.135-7.497s-3.387-6.729-7.384-6.616\r\n			c-3.522,0.113-7.045,2.213-7.271,6.074C41.281,68.777,44.148,72.978,49.026,72.978z"/>\r\n	</g>\r\n	<g display="inline">\r\n		\r\n			<path fill="none" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="\r\n			M64.223,36.871C65.419,26.574,58.713,19.1,47.852,19.1c-10.839,0-14,6.436-15.716,13.661c-1.468,6.142-1.626,13.503-1.852,19.939\r\n			c-0.542,16.597,2.823,28.203,15.513,29.287c10.251,0.857,17.861-3.116,18.764-13.661C65.419,58.232,61.693,52,52.91,50.374\r\n			c-9.777-1.806-12.69,3.252-12.69,3.252c0-7.7-1.354-25.313,7.745-25.313c8.242,0,7.926,8.242,7.926,8.242L64.223,36.871z"/>\r\n		\r\n			<path fill="none" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="\r\n			M48.777,58.864c3.997-0.113,7.271,1.829,7.384,6.616s-2.822,7.497-7.135,7.497c-4.877,0-7.745-4.2-7.52-8.039\r\n			C41.732,61.077,45.255,58.978,48.777,58.864z"/>\r\n	</g>\r\n</g>\r\n\r\n\r\n<polygon class="question-counter question-counter-6" fill="#FFFFFF" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="71.418,19.262 34.911,19.1 34.911,29.794 60.11,29.794 53.812,47.747 46.865,47.747 46.865,53.561 51.772,53.561 41.76,82.1 53.277,82.1 63.054,53.561 69.072,53.561 69.072,47.747 65.047,47.747 71.418,29.148 "/>\r\n\r\n\r\n\r\n\r\n<g class="question-counter question-counter-7" display="none">\r\n	<g display="inline">\r\n		<path fill="#FFFFFF" d="M58.169,47.305c4.407,2.662,7.338,7.36,7.674,14.407c0.604,12.729-7.204,20.112-18.994,20.381\r\n			c-13.311,0.313-19.978-8.814-19.956-19.083c0.022-8.501,3.714-13.49,8.904-16.108c-3.199-3.042-4.81-7.45-4.81-12.148\r\n			c0.022-11.141,7.316-15.19,15.235-15.616c9.039-0.492,16.488,3.759,17.003,14.542C63.516,39.743,61.614,44.374,58.169,47.305z\r\n			 M56.558,62.383c-0.179-5.951-4.877-9.217-10.403-8.904c-4.833,0.268-9.307,2.729-9.307,9.553\r\n			c-0.022,5.324,3.355,10.067,10.09,9.911C52.912,72.809,56.76,68.983,56.558,62.383z M39.779,34.575\r\n			c-0.022,4.094,2.573,7.719,7.741,7.607c4.586-0.112,7.606-3.043,7.36-8.099c-0.224-5.056-3.736-7.069-7.964-6.823\r\n			C43.202,27.46,39.779,29.34,39.779,34.575z"/>\r\n	</g>\r\n	<g display="inline">\r\n		\r\n			<path fill="none" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="\r\n			M65.843,61.712c-0.336-7.047-3.267-11.745-7.674-14.407c3.445-2.931,5.347-7.562,5.056-13.625\r\n			c-0.515-10.783-7.964-15.034-17.003-14.542c-7.919,0.425-15.213,4.475-15.235,15.616c0,4.698,1.611,9.105,4.81,12.148\r\n			c-5.19,2.618-8.881,7.606-8.904,16.108c-0.022,10.269,6.645,19.396,19.956,19.083C58.639,81.824,66.447,74.441,65.843,61.712z"/>\r\n		\r\n			<path fill="none" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="\r\n			M46.916,27.259c4.228-0.246,7.741,1.768,7.964,6.823c0.246,5.056-2.774,7.987-7.36,8.099c-5.168,0.112-7.763-3.513-7.741-7.607\r\n			C39.779,29.34,43.202,27.46,46.916,27.259z"/>\r\n		\r\n			<path fill="none" stroke="#43193C" stroke-width="2.55" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="\r\n			M46.155,53.479c5.526-0.313,10.224,2.953,10.403,8.904c0.202,6.6-3.646,10.425-9.62,10.56c-6.734,0.156-10.112-4.587-10.09-9.911\r\n			C36.849,56.208,41.323,53.748,46.155,53.479z"/>\r\n	</g>\r\n</g>\r\n</svg>\r\n'}),define("views/questionView.js",["require","backbone","text!tpl/question.html","text!letter-a","text!letter-b","text!letter-c","text!counterSvg"],function(e){"use strict";var t=e("backbone"),n=e("text!tpl/question.html"),i=e("text!letter-a"),r=e("text!letter-b"),s=e("text!letter-c"),a=e("text!counterSvg"),o=t.View.extend({template:_.template(n),type:"question",initialize:function(e){this.idx=e.idx,this.$parent=$(e.parent),this.animationCode=e.animationCode},render:function(e){var t=App.isIE,n=App.data.questions[this.idx].animationName+".svg";t&&(n="png/"+App.data.questions[this.idx].animationName+".png"),this.html=this.template({ie9:t,idx:this.idx,question:App.data.questions[parseInt(this.idx)],animationCode:this.animationCode,questionsCount:App.data.questions.length,alphabet:[i,r,s],questionColor:["#e89cc1","#f9a36a","#f6f06b"],counterSvg:a,imgSrc:"img/animations/"+n}),this.$parent.append(this.html),this.setElement(this.$parent.find("#question-"+this.idx)),this.preloadImages(function(){this.setupElements(),this.setupEvents(),_.isFunction(e)&&e()}.bind(this))},preloadImages:function(e){var t=this.$(".preload-image"),n=t.length,i=0;t.each(function(t,r){var s=$(r).data("src");r.onload=function(){i+=1,n===i&&e()}.bind(this),r.onerror=function(){i+=1,n===i&&e()}.bind(this),r.src=s}.bind(this))},setupElements:function(){this.$inner=this.$(".inner"),this.$options=this.$(".options-wrapper"),this.$answers=this.$(".answer")},setupEvents:function(){this.$answers.on("click",this.selectAnswer.bind(this))},selectAnswer:function(e){if(!this.done){this.done=!0;var t=$(e.currentTarget);t.addClass("selected");var n=t.data("value"),i=t.data("idx");App.user.answers[this.idx].chosenAnswer=i,App.user.answers[this.idx].value=n,App.router.next()}},reset:function(){this.done=!1,this.$answers.removeClass("selected"),App.user.answers[this.idx].chosenAnswer=null,App.user.answers[this.idx].value=null},show:function(){this.$el.show()}});return o}),function(){"use strict";function e(e){e.fn.swiper=function(t){var i;return e(this).each(function(){var e=new n(this,t);i||(i=e)}),i}}var t,n=function(e,i){function r(){return"horizontal"===v.params.direction}function s(e){return Math.floor(e)}function a(){v.autoplayTimeoutId=setTimeout(function(){v.params.loop?(v.fixLoop(),v._slideNext()):v.isEnd?i.autoplayStopOnLast?v.stopAutoplay():v._slideTo(0):v._slideNext()},v.params.autoplay)}function o(e,n){var i=t(e.target);if(!i.is(n))if("string"==typeof n)i=i.parents(n);else if(n.nodeType){var r;return i.parents().each(function(e,t){t===n&&(r=n)}),r?n:void 0}return 0===i.length?void 0:i[0]}function l(e,t){t=t||{};var n=window.MutationObserver||window.WebkitMutationObserver,i=new n(function(e){e.forEach(function(e){v.onResize(!0),v.emit("onObserverUpdate",v,e)})});i.observe(e,{attributes:"undefined"==typeof t.attributes?!0:t.attributes,childList:"undefined"==typeof t.childList?!0:t.childList,
characterData:"undefined"==typeof t.characterData?!0:t.characterData}),v.observers.push(i)}function u(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(!v.params.allowSwipeToNext&&(r()&&39===t||!r()&&40===t))return!1;if(!v.params.allowSwipeToPrev&&(r()&&37===t||!r()&&38===t))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var n=!1;if(v.container.parents(".swiper-slide").length>0&&0===v.container.parents(".swiper-slide-active").length)return;var i={left:window.pageXOffset,top:window.pageYOffset},s=window.innerWidth,a=window.innerHeight,o=v.container.offset();v.rtl&&(o.left=o.left-v.container[0].scrollLeft);for(var l=[[o.left,o.top],[o.left+v.width,o.top],[o.left,o.top+v.height],[o.left+v.width,o.top+v.height]],u=0;u<l.length;u++){var c=l[u];c[0]>=i.left&&c[0]<=i.left+s&&c[1]>=i.top&&c[1]<=i.top+a&&(n=!0)}if(!n)return}r()?((37===t||39===t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===t&&!v.rtl||37===t&&v.rtl)&&v.slideNext(),(37===t&&!v.rtl||39===t&&v.rtl)&&v.slidePrev()):((38===t||40===t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&v.slideNext(),38===t&&v.slidePrev())}}function c(e){e.originalEvent&&(e=e.originalEvent);var t=v.mousewheel.event,n=0;if(e.detail)n=-e.detail;else if("mousewheel"===t)if(v.params.mousewheelForceToAxis)if(r()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;n=e.wheelDeltaX}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;n=e.wheelDeltaY}else n=e.wheelDelta;else if("DOMMouseScroll"===t)n=-e.detail;else if("wheel"===t)if(v.params.mousewheelForceToAxis)if(r()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;n=-e.deltaX}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;n=-e.deltaY}else n=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY;if(v.params.mousewheelInvert&&(n=-n),v.params.freeMode){var i=v.getWrapperTranslate()+n*v.params.mousewheelSensitivity;if(i>v.minTranslate()&&(i=v.minTranslate()),i<v.maxTranslate()&&(i=v.maxTranslate()),v.setWrapperTransition(0),v.setWrapperTranslate(i),v.updateProgress(),v.updateActiveIndex(),v.params.freeModeSticky&&(clearTimeout(v.mousewheel.timeout),v.mousewheel.timeout=setTimeout(function(){v.slideReset()},300)),0===i||i===v.maxTranslate())return}else{if((new window.Date).getTime()-v.mousewheel.lastScrollTime>60)if(0>n)if(v.isEnd&&!v.params.loop||v.animating){if(v.params.mousewheelReleaseOnEdges)return!0}else v.slideNext();else if(v.isBeginning&&!v.params.loop||v.animating){if(v.params.mousewheelReleaseOnEdges)return!0}else v.slidePrev();v.mousewheel.lastScrollTime=(new window.Date).getTime()}return v.params.autoplay&&v.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}function d(e,n){e=t(e);var i,s,a;i=e.attr("data-swiper-parallax")||"0",s=e.attr("data-swiper-parallax-x"),a=e.attr("data-swiper-parallax-y"),s||a?(s=s||"0",a=a||"0"):r()?(s=i,a="0"):(a=i,s="0"),s=s.indexOf("%")>=0?parseInt(s,10)*n+"%":s*n+"px",a=a.indexOf("%")>=0?parseInt(a,10)*n+"%":a*n+"px",e.transform("translate3d("+s+", "+a+",0px)")}function p(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof n))return new n(e,i);var h={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},f=i&&i.virtualTranslate;i=i||{};for(var m in h)if("undefined"==typeof i[m])i[m]=h[m];else if("object"==typeof i[m])for(var g in h[m])"undefined"==typeof i[m][g]&&(i[m][g]=h[m][g]);var v=this;if(v.params=i,v.classNames=[],"undefined"!=typeof t&&"undefined"!=typeof Dom7&&(t=Dom7),("undefined"!=typeof t||(t="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7))&&(v.$=t,v.container=t(e),0!==v.container.length)){if(v.container.length>1)return void v.container.each(function(){new n(this,i)});v.container[0].swiper=v,v.container.data("swiper",v),v.classNames.push("swiper-container-"+v.params.direction),v.params.freeMode&&v.classNames.push("swiper-container-free-mode"),v.support.flexbox||(v.classNames.push("swiper-container-no-flexbox"),v.params.slidesPerColumn=1),(v.params.parallax||v.params.watchSlidesVisibility)&&(v.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(v.params.effect)>=0&&(v.support.transforms3d?(v.params.watchSlidesProgress=!0,v.classNames.push("swiper-container-3d")):v.params.effect="slide"),"slide"!==v.params.effect&&v.classNames.push("swiper-container-"+v.params.effect),"cube"===v.params.effect&&(v.params.resistanceRatio=0,v.params.slidesPerView=1,v.params.slidesPerColumn=1,v.params.slidesPerGroup=1,v.params.centeredSlides=!1,v.params.spaceBetween=0,v.params.virtualTranslate=!0,v.params.setWrapperSize=!1),"fade"===v.params.effect&&(v.params.slidesPerView=1,v.params.slidesPerColumn=1,v.params.slidesPerGroup=1,v.params.watchSlidesProgress=!0,v.params.spaceBetween=0,"undefined"==typeof f&&(v.params.virtualTranslate=!0)),v.params.grabCursor&&v.support.touch&&(v.params.grabCursor=!1),v.wrapper=v.container.children("."+v.params.wrapperClass),v.params.pagination&&(v.paginationContainer=t(v.params.pagination),v.params.paginationClickable&&v.paginationContainer.addClass("swiper-pagination-clickable")),v.rtl=r()&&("rtl"===v.container[0].dir.toLowerCase()||"rtl"===v.container.css("direction")),v.rtl&&v.classNames.push("swiper-container-rtl"),v.rtl&&(v.wrongRTL="-webkit-box"===v.wrapper.css("display")),v.params.slidesPerColumn>1&&v.classNames.push("swiper-container-multirow"),v.device.android&&v.classNames.push("swiper-container-android"),v.container.addClass(v.classNames.join(" ")),v.translate=0,v.progress=0,v.velocity=0,v.lockSwipeToNext=function(){v.params.allowSwipeToNext=!1},v.lockSwipeToPrev=function(){v.params.allowSwipeToPrev=!1},v.lockSwipes=function(){v.params.allowSwipeToNext=v.params.allowSwipeToPrev=!1},v.unlockSwipeToNext=function(){v.params.allowSwipeToNext=!0},v.unlockSwipeToPrev=function(){v.params.allowSwipeToPrev=!0},v.unlockSwipes=function(){v.params.allowSwipeToNext=v.params.allowSwipeToPrev=!0},v.params.grabCursor&&(v.container[0].style.cursor="move",v.container[0].style.cursor="-webkit-grab",v.container[0].style.cursor="-moz-grab",v.container[0].style.cursor="grab"),v.imagesToLoad=[],v.imagesLoaded=0,v.loadImage=function(e,t,n,i,r){function s(){r&&r()}var a;e.complete&&i?s():t?(a=new window.Image,a.onload=s,a.onerror=s,n&&(a.srcset=n),t&&(a.src=t)):s()},v.preloadImages=function(){function e(){"undefined"!=typeof v&&null!==v&&(void 0!==v.imagesLoaded&&v.imagesLoaded++,v.imagesLoaded===v.imagesToLoad.length&&(v.params.updateOnImagesReady&&v.update(),v.emit("onImagesReady",v)))}v.imagesToLoad=v.container.find("img");for(var t=0;t<v.imagesToLoad.length;t++)v.loadImage(v.imagesToLoad[t],v.imagesToLoad[t].currentSrc||v.imagesToLoad[t].getAttribute("src"),v.imagesToLoad[t].srcset||v.imagesToLoad[t].getAttribute("srcset"),!0,e)},v.autoplayTimeoutId=void 0,v.autoplaying=!1,v.autoplayPaused=!1,v.startAutoplay=function(){return"undefined"!=typeof v.autoplayTimeoutId?!1:v.params.autoplay?v.autoplaying?!1:(v.autoplaying=!0,v.emit("onAutoplayStart",v),void a()):!1},v.stopAutoplay=function(e){v.autoplayTimeoutId&&(v.autoplayTimeoutId&&clearTimeout(v.autoplayTimeoutId),v.autoplaying=!1,v.autoplayTimeoutId=void 0,v.emit("onAutoplayStop",v))},v.pauseAutoplay=function(e){v.autoplayPaused||(v.autoplayTimeoutId&&clearTimeout(v.autoplayTimeoutId),v.autoplayPaused=!0,0===e?(v.autoplayPaused=!1,a()):v.wrapper.transitionEnd(function(){v&&(v.autoplayPaused=!1,v.autoplaying?a():v.stopAutoplay())}))},v.minTranslate=function(){return-v.snapGrid[0]},v.maxTranslate=function(){return-v.snapGrid[v.snapGrid.length-1]},v.updateContainerSize=function(){var e,t;e="undefined"!=typeof v.params.width?v.params.width:v.container[0].clientWidth,t="undefined"!=typeof v.params.height?v.params.height:v.container[0].clientHeight,0===e&&r()||0===t&&!r()||(e=e-parseInt(v.container.css("padding-left"),10)-parseInt(v.container.css("padding-right"),10),t=t-parseInt(v.container.css("padding-top"),10)-parseInt(v.container.css("padding-bottom"),10),v.width=e,v.height=t,v.size=r()?v.width:v.height)},v.updateSlidesSize=function(){v.slides=v.wrapper.children("."+v.params.slideClass),v.snapGrid=[],v.slidesGrid=[],v.slidesSizesGrid=[];var e,t=v.params.spaceBetween,n=-v.params.slidesOffsetBefore,i=0,a=0;"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*v.size),v.virtualSize=-t,v.rtl?v.slides.css({marginLeft:"",marginTop:""}):v.slides.css({marginRight:"",marginBottom:""});var o;v.params.slidesPerColumn>1&&(o=Math.floor(v.slides.length/v.params.slidesPerColumn)===v.slides.length/v.params.slidesPerColumn?v.slides.length:Math.ceil(v.slides.length/v.params.slidesPerColumn)*v.params.slidesPerColumn,"auto"!==v.params.slidesPerView&&"row"===v.params.slidesPerColumnFill&&(o=Math.max(o,v.params.slidesPerView*v.params.slidesPerColumn)));var l,u=v.params.slidesPerColumn,c=o/u,d=c-(v.params.slidesPerColumn*c-v.slides.length);for(e=0;e<v.slides.length;e++){l=0;var p=v.slides.eq(e);if(v.params.slidesPerColumn>1){var h,f,m;"column"===v.params.slidesPerColumnFill?(f=Math.floor(e/u),m=e-f*u,(f>d||f===d&&m===u-1)&&++m>=u&&(m=0,f++),h=f+m*o/u,p.css({"-webkit-box-ordinal-group":h,"-moz-box-ordinal-group":h,"-ms-flex-order":h,"-webkit-order":h,order:h})):(m=Math.floor(e/c),f=e-m*c),p.css({"margin-top":0!==m&&v.params.spaceBetween&&v.params.spaceBetween+"px"}).attr("data-swiper-column",f).attr("data-swiper-row",m)}"none"!==p.css("display")&&("auto"===v.params.slidesPerView?(l=r()?p.outerWidth(!0):p.outerHeight(!0),v.params.roundLengths&&(l=s(l))):(l=(v.size-(v.params.slidesPerView-1)*t)/v.params.slidesPerView,v.params.roundLengths&&(l=s(l)),r()?v.slides[e].style.width=l+"px":v.slides[e].style.height=l+"px"),v.slides[e].swiperSlideSize=l,v.slidesSizesGrid.push(l),v.params.centeredSlides?(n=n+l/2+i/2+t,0===e&&(n=n-v.size/2-t),Math.abs(n)<.001&&(n=0),a%v.params.slidesPerGroup===0&&v.snapGrid.push(n),v.slidesGrid.push(n)):(a%v.params.slidesPerGroup===0&&v.snapGrid.push(n),v.slidesGrid.push(n),n=n+l+t),v.virtualSize+=l+t,i=l,a++)}v.virtualSize=Math.max(v.virtualSize,v.size)+v.params.slidesOffsetAfter;var g;if(v.rtl&&v.wrongRTL&&("slide"===v.params.effect||"coverflow"===v.params.effect)&&v.wrapper.css({width:v.virtualSize+v.params.spaceBetween+"px"}),(!v.support.flexbox||v.params.setWrapperSize)&&(r()?v.wrapper.css({width:v.virtualSize+v.params.spaceBetween+"px"}):v.wrapper.css({height:v.virtualSize+v.params.spaceBetween+"px"})),v.params.slidesPerColumn>1&&(v.virtualSize=(l+v.params.spaceBetween)*o,v.virtualSize=Math.ceil(v.virtualSize/v.params.slidesPerColumn)-v.params.spaceBetween,v.wrapper.css({width:v.virtualSize+v.params.spaceBetween+"px"}),v.params.centeredSlides)){for(g=[],e=0;e<v.snapGrid.length;e++)v.snapGrid[e]<v.virtualSize+v.snapGrid[0]&&g.push(v.snapGrid[e]);v.snapGrid=g}if(!v.params.centeredSlides){for(g=[],e=0;e<v.snapGrid.length;e++)v.snapGrid[e]<=v.virtualSize-v.size&&g.push(v.snapGrid[e]);v.snapGrid=g,Math.floor(v.virtualSize-v.size)>Math.floor(v.snapGrid[v.snapGrid.length-1])&&v.snapGrid.push(v.virtualSize-v.size)}0===v.snapGrid.length&&(v.snapGrid=[0]),0!==v.params.spaceBetween&&(r()?v.rtl?v.slides.css({marginLeft:t+"px"}):v.slides.css({marginRight:t+"px"}):v.slides.css({marginBottom:t+"px"})),v.params.watchSlidesProgress&&v.updateSlidesOffset()},v.updateSlidesOffset=function(){for(var e=0;e<v.slides.length;e++)v.slides[e].swiperSlideOffset=r()?v.slides[e].offsetLeft:v.slides[e].offsetTop},v.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=v.translate||0),0!==v.slides.length){"undefined"==typeof v.slides[0].swiperSlideOffset&&v.updateSlidesOffset();var t=-e;v.rtl&&(t=e);v.container[0].getBoundingClientRect(),r()?"left":"top",r()?"right":"bottom";v.slides.removeClass(v.params.slideVisibleClass);for(var n=0;n<v.slides.length;n++){var i=v.slides[n],s=(t-i.swiperSlideOffset)/(i.swiperSlideSize+v.params.spaceBetween);if(v.params.watchSlidesVisibility){var a=-(t-i.swiperSlideOffset),o=a+v.slidesSizesGrid[n],l=a>=0&&a<v.size||o>0&&o<=v.size||0>=a&&o>=v.size;l&&v.slides.eq(n).addClass(v.params.slideVisibleClass)}i.progress=v.rtl?-s:s}}},v.updateProgress=function(e){"undefined"==typeof e&&(e=v.translate||0);var t=v.maxTranslate()-v.minTranslate();0===t?(v.progress=0,v.isBeginning=v.isEnd=!0):(v.progress=(e-v.minTranslate())/t,v.isBeginning=v.progress<=0,v.isEnd=v.progress>=1),v.isBeginning&&v.emit("onReachBeginning",v),v.isEnd&&v.emit("onReachEnd",v),v.params.watchSlidesProgress&&v.updateSlidesProgress(e),v.emit("onProgress",v,v.progress)},v.updateActiveIndex=function(){var e,t,n,i=v.rtl?v.translate:-v.translate;for(t=0;t<v.slidesGrid.length;t++)"undefined"!=typeof v.slidesGrid[t+1]?i>=v.slidesGrid[t]&&i<v.slidesGrid[t+1]-(v.slidesGrid[t+1]-v.slidesGrid[t])/2?e=t:i>=v.slidesGrid[t]&&i<v.slidesGrid[t+1]&&(e=t+1):i>=v.slidesGrid[t]&&(e=t);(0>e||"undefined"==typeof e)&&(e=0),n=Math.floor(e/v.params.slidesPerGroup),n>=v.snapGrid.length&&(n=v.snapGrid.length-1),e!==v.activeIndex&&(v.snapIndex=n,v.previousIndex=v.activeIndex,v.activeIndex=e,v.updateClasses())},v.updateClasses=function(){v.slides.removeClass(v.params.slideActiveClass+" "+v.params.slideNextClass+" "+v.params.slidePrevClass);var e=v.slides.eq(v.activeIndex);if(e.addClass(v.params.slideActiveClass),e.next("."+v.params.slideClass).addClass(v.params.slideNextClass),e.prev("."+v.params.slideClass).addClass(v.params.slidePrevClass),v.bullets&&v.bullets.length>0){v.bullets.removeClass(v.params.bulletActiveClass);var n;v.params.loop?(n=Math.ceil(v.activeIndex-v.loopedSlides)/v.params.slidesPerGroup,n>v.slides.length-1-2*v.loopedSlides&&(n-=v.slides.length-2*v.loopedSlides),n>v.bullets.length-1&&(n-=v.bullets.length)):n="undefined"!=typeof v.snapIndex?v.snapIndex:v.activeIndex||0,v.paginationContainer.length>1?v.bullets.each(function(){t(this).index()===n&&t(this).addClass(v.params.bulletActiveClass)}):v.bullets.eq(n).addClass(v.params.bulletActiveClass)}v.params.loop||(v.params.prevButton&&(v.isBeginning?(t(v.params.prevButton).addClass(v.params.buttonDisabledClass),v.params.a11y&&v.a11y&&v.a11y.disable(t(v.params.prevButton))):(t(v.params.prevButton).removeClass(v.params.buttonDisabledClass),v.params.a11y&&v.a11y&&v.a11y.enable(t(v.params.prevButton)))),v.params.nextButton&&(v.isEnd?(t(v.params.nextButton).addClass(v.params.buttonDisabledClass),v.params.a11y&&v.a11y&&v.a11y.disable(t(v.params.nextButton))):(t(v.params.nextButton).removeClass(v.params.buttonDisabledClass),v.params.a11y&&v.a11y&&v.a11y.enable(t(v.params.nextButton)))))},v.updatePagination=function(){if(v.params.pagination&&v.paginationContainer&&v.paginationContainer.length>0){for(var e="",t=v.params.loop?Math.ceil((v.slides.length-2*v.loopedSlides)/v.params.slidesPerGroup):v.snapGrid.length,n=0;t>n;n++)e+=v.params.paginationBulletRender?v.params.paginationBulletRender(n,v.params.bulletClass):"<"+v.params.paginationElement+' class="'+v.params.bulletClass+'"></'+v.params.paginationElement+">";v.paginationContainer.html(e),v.bullets=v.paginationContainer.find("."+v.params.bulletClass),v.params.paginationClickable&&v.params.a11y&&v.a11y&&v.a11y.initPagination()}},v.update=function(e){function t(){i=Math.min(Math.max(v.translate,v.maxTranslate()),v.minTranslate()),v.setWrapperTranslate(i),v.updateActiveIndex(),v.updateClasses()}if(v.updateContainerSize(),v.updateSlidesSize(),v.updateProgress(),v.updatePagination(),v.updateClasses(),v.params.scrollbar&&v.scrollbar&&v.scrollbar.set(),e){var n,i;v.controller&&v.controller.spline&&(v.controller.spline=void 0),v.params.freeMode?t():(n=("auto"===v.params.slidesPerView||v.params.slidesPerView>1)&&v.isEnd&&!v.params.centeredSlides?v.slideTo(v.slides.length-1,0,!1,!0):v.slideTo(v.activeIndex,0,!1,!0),n||t())}},v.onResize=function(e){var t=v.params.allowSwipeToPrev,n=v.params.allowSwipeToNext;if(v.params.allowSwipeToPrev=v.params.allowSwipeToNext=!0,v.updateContainerSize(),v.updateSlidesSize(),("auto"===v.params.slidesPerView||v.params.freeMode||e)&&v.updatePagination(),v.params.scrollbar&&v.scrollbar&&v.scrollbar.set(),v.controller&&v.controller.spline&&(v.controller.spline=void 0),v.params.freeMode){var i=Math.min(Math.max(v.translate,v.maxTranslate()),v.minTranslate());v.setWrapperTranslate(i),v.updateActiveIndex(),v.updateClasses()}else v.updateClasses(),("auto"===v.params.slidesPerView||v.params.slidesPerView>1)&&v.isEnd&&!v.params.centeredSlides?v.slideTo(v.slides.length-1,0,!1,!0):v.slideTo(v.activeIndex,0,!1,!0);v.params.allowSwipeToPrev=t,v.params.allowSwipeToNext=n};var w=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?w=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(w=["MSPointerDown","MSPointerMove","MSPointerUp"]),v.touchEvents={start:v.support.touch||!v.params.simulateTouch?"touchstart":w[0],move:v.support.touch||!v.params.simulateTouch?"touchmove":w[1],end:v.support.touch||!v.params.simulateTouch?"touchend":w[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===v.params.touchEventsTarget?v.container:v.wrapper).addClass("swiper-wp8-"+v.params.direction),v.initEvents=function(e){var n=e?"off":"on",r=e?"removeEventListener":"addEventListener",s="container"===v.params.touchEventsTarget?v.container[0]:v.wrapper[0],a=v.support.touch?s:document,o=v.params.nested?!0:!1;v.browser.ie?(s[r](v.touchEvents.start,v.onTouchStart,!1),a[r](v.touchEvents.move,v.onTouchMove,o),a[r](v.touchEvents.end,v.onTouchEnd,!1)):(v.support.touch&&(s[r](v.touchEvents.start,v.onTouchStart,!1),s[r](v.touchEvents.move,v.onTouchMove,o),s[r](v.touchEvents.end,v.onTouchEnd,!1)),!i.simulateTouch||v.device.ios||v.device.android||(s[r]("mousedown",v.onTouchStart,!1),document[r]("mousemove",v.onTouchMove,o),document[r]("mouseup",v.onTouchEnd,!1))),window[r]("resize",v.onResize),v.params.nextButton&&(t(v.params.nextButton)[n]("click",v.onClickNext),v.params.a11y&&v.a11y&&t(v.params.nextButton)[n]("keydown",v.a11y.onEnterKey)),v.params.prevButton&&(t(v.params.prevButton)[n]("click",v.onClickPrev),v.params.a11y&&v.a11y&&t(v.params.prevButton)[n]("keydown",v.a11y.onEnterKey)),v.params.pagination&&v.params.paginationClickable&&(t(v.paginationContainer)[n]("click","."+v.params.bulletClass,v.onClickIndex),v.params.a11y&&v.a11y&&t(v.paginationContainer)[n]("keydown","."+v.params.bulletClass,v.a11y.onEnterKey)),(v.params.preventClicks||v.params.preventClicksPropagation)&&s[r]("click",v.preventClicks,!0)},v.attachEvents=function(e){v.initEvents()},v.detachEvents=function(){v.initEvents(!0)},v.allowClick=!0,v.preventClicks=function(e){v.allowClick||(v.params.preventClicks&&e.preventDefault(),v.params.preventClicksPropagation&&v.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},v.onClickNext=function(e){e.preventDefault(),(!v.isEnd||v.params.loop)&&v.slideNext()},v.onClickPrev=function(e){e.preventDefault(),(!v.isBeginning||v.params.loop)&&v.slidePrev()},v.onClickIndex=function(e){e.preventDefault();var n=t(this).index()*v.params.slidesPerGroup;v.params.loop&&(n+=v.loopedSlides),v.slideTo(n)},v.updateClickedSlide=function(e){var n=o(e,"."+v.params.slideClass),i=!1;if(n)for(var r=0;r<v.slides.length;r++)v.slides[r]===n&&(i=!0);if(!n||!i)return v.clickedSlide=void 0,void(v.clickedIndex=void 0);if(v.clickedSlide=n,v.clickedIndex=t(n).index(),v.params.slideToClickedSlide&&void 0!==v.clickedIndex&&v.clickedIndex!==v.activeIndex){var s,a=v.clickedIndex;if(v.params.loop){if(v.animating)return;s=t(v.clickedSlide).attr("data-swiper-slide-index"),v.params.centeredSlides?a<v.loopedSlides-v.params.slidesPerView/2||a>v.slides.length-v.loopedSlides+v.params.slidesPerView/2?(v.fixLoop(),a=v.wrapper.children("."+v.params.slideClass+'[data-swiper-slide-index="'+s+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){v.slideTo(a)},0)):v.slideTo(a):a>v.slides.length-v.params.slidesPerView?(v.fixLoop(),a=v.wrapper.children("."+v.params.slideClass+'[data-swiper-slide-index="'+s+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){v.slideTo(a)},0)):v.slideTo(a)}else v.slideTo(a)}};var y,x,b,S,T,C,k,E,M,A="input, select, textarea, button",_=Date.now(),P=[];v.animating=!1,v.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var I,z;if(v.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),I="touchstart"===e.type,I||!("which"in e)||3!==e.which){if(v.params.noSwiping&&o(e,"."+v.params.noSwipingClass))return void(v.allowClick=!0);if(!v.params.swipeHandler||o(e,v.params.swipeHandler)){var n=v.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,i=v.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY;if(!(v.device.ios&&v.params.iOSEdgeSwipeDetection&&n<=v.params.iOSEdgeSwipeThreshold)){if(y=!0,x=!1,S=void 0,z=void 0,v.touches.startX=n,v.touches.startY=i,b=Date.now(),v.allowClick=!0,v.updateContainerSize(),v.swipeDirection=void 0,v.params.threshold>0&&(k=!1),"touchstart"!==e.type){var r=!0;t(e.target).is(A)&&(r=!1),document.activeElement&&t(document.activeElement).is(A)&&document.activeElement.blur(),r&&e.preventDefault()}v.emit("onTouchStart",v,e)}}}},v.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!(I&&"mousemove"===e.type||e.preventedByNestedSwiper)){if(v.params.onlyExternal)return v.allowClick=!1,void(y&&(v.touches.startX=v.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,v.touches.startY=v.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,b=Date.now()));if(I&&document.activeElement&&e.target===document.activeElement&&t(e.target).is(A))return x=!0,void(v.allowClick=!1);if(v.emit("onTouchMove",v,e),!(e.targetTouches&&e.targetTouches.length>1)){if(v.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,v.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof S){var n=180*Math.atan2(Math.abs(v.touches.currentY-v.touches.startY),Math.abs(v.touches.currentX-v.touches.startX))/Math.PI;S=r()?n>v.params.touchAngle:90-n>v.params.touchAngle}if(S&&v.emit("onTouchMoveOpposite",v,e),"undefined"==typeof z&&v.browser.ieTouch&&(v.touches.currentX!==v.touches.startX||v.touches.currentY!==v.touches.startY)&&(z=!0),y){if(S)return void(y=!1);if(z||!v.browser.ieTouch){v.allowClick=!1,v.emit("onSliderMove",v,e),e.preventDefault(),v.params.touchMoveStopPropagation&&!v.params.nested&&e.stopPropagation(),x||(i.loop&&v.fixLoop(),C=v.getWrapperTranslate(),v.setWrapperTransition(0),v.animating&&v.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),v.params.autoplay&&v.autoplaying&&(v.params.autoplayDisableOnInteraction?v.stopAutoplay():v.pauseAutoplay()),M=!1,v.params.grabCursor&&(v.container[0].style.cursor="move",v.container[0].style.cursor="-webkit-grabbing",v.container[0].style.cursor="-moz-grabbin",v.container[0].style.cursor="grabbing")),x=!0;var s=v.touches.diff=r()?v.touches.currentX-v.touches.startX:v.touches.currentY-v.touches.startY;s*=v.params.touchRatio,v.rtl&&(s=-s),v.swipeDirection=s>0?"prev":"next",T=s+C;var a=!0;if(s>0&&T>v.minTranslate()?(a=!1,v.params.resistance&&(T=v.minTranslate()-1+Math.pow(-v.minTranslate()+C+s,v.params.resistanceRatio))):0>s&&T<v.maxTranslate()&&(a=!1,v.params.resistance&&(T=v.maxTranslate()+1-Math.pow(v.maxTranslate()-C-s,v.params.resistanceRatio))),a&&(e.preventedByNestedSwiper=!0),!v.params.allowSwipeToNext&&"next"===v.swipeDirection&&C>T&&(T=C),!v.params.allowSwipeToPrev&&"prev"===v.swipeDirection&&T>C&&(T=C),v.params.followFinger){if(v.params.threshold>0){if(!(Math.abs(s)>v.params.threshold||k))return void(T=C);if(!k)return k=!0,v.touches.startX=v.touches.currentX,v.touches.startY=v.touches.currentY,T=C,void(v.touches.diff=r()?v.touches.currentX-v.touches.startX:v.touches.currentY-v.touches.startY)}(v.params.freeMode||v.params.watchSlidesProgress)&&v.updateActiveIndex(),v.params.freeMode&&(0===P.length&&P.push({position:v.touches[r()?"startX":"startY"],time:b}),P.push({position:v.touches[r()?"currentX":"currentY"],time:(new window.Date).getTime()})),v.updateProgress(T),v.setWrapperTranslate(T)}}}}}},v.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),v.emit("onTouchEnd",v,e),y){v.params.grabCursor&&x&&y&&(v.container[0].style.cursor="move",v.container[0].style.cursor="-webkit-grab",v.container[0].style.cursor="-moz-grab",v.container[0].style.cursor="grab");var n=Date.now(),i=n-b;if(v.allowClick&&(v.updateClickedSlide(e),v.emit("onTap",v,e),300>i&&n-_>300&&(E&&clearTimeout(E),E=setTimeout(function(){v&&(v.params.paginationHide&&v.paginationContainer.length>0&&!t(e.target).hasClass(v.params.bulletClass)&&v.paginationContainer.toggleClass(v.params.paginationHiddenClass),v.emit("onClick",v,e))},300)),300>i&&300>n-_&&(E&&clearTimeout(E),v.emit("onDoubleTap",v,e))),_=Date.now(),setTimeout(function(){v&&(v.allowClick=!0)},0),!y||!x||!v.swipeDirection||0===v.touches.diff||T===C)return void(y=x=!1);y=x=!1;var r;if(r=v.params.followFinger?v.rtl?v.translate:-v.translate:-T,v.params.freeMode){if(r<-v.minTranslate())return void v.slideTo(v.activeIndex);if(r>-v.maxTranslate())return void(v.slides.length<v.snapGrid.length?v.slideTo(v.snapGrid.length-1):v.slideTo(v.slides.length-1));if(v.params.freeModeMomentum){if(P.length>1){var s=P.pop(),a=P.pop(),o=s.position-a.position,l=s.time-a.time;v.velocity=o/l,v.velocity=v.velocity/2,Math.abs(v.velocity)<v.params.freeModeMinimumVelocity&&(v.velocity=0),(l>150||(new window.Date).getTime()-s.time>300)&&(v.velocity=0)}else v.velocity=0;P.length=0;var u=1e3*v.params.freeModeMomentumRatio,c=v.velocity*u,d=v.translate+c;v.rtl&&(d=-d);var p,h=!1,f=20*Math.abs(v.velocity)*v.params.freeModeMomentumBounceRatio;if(d<v.maxTranslate())v.params.freeModeMomentumBounce?(d+v.maxTranslate()<-f&&(d=v.maxTranslate()-f),p=v.maxTranslate(),h=!0,M=!0):d=v.maxTranslate();else if(d>v.minTranslate())v.params.freeModeMomentumBounce?(d-v.minTranslate()>f&&(d=v.minTranslate()+f),p=v.minTranslate(),h=!0,M=!0):d=v.minTranslate();else if(v.params.freeModeSticky){var m,g=0;for(g=0;g<v.snapGrid.length;g+=1)if(v.snapGrid[g]>-d){m=g;break}d=Math.abs(v.snapGrid[m]-d)<Math.abs(v.snapGrid[m-1]-d)||"next"===v.swipeDirection?v.snapGrid[m]:v.snapGrid[m-1],v.rtl||(d=-d)}if(0!==v.velocity)u=v.rtl?Math.abs((-d-v.translate)/v.velocity):Math.abs((d-v.translate)/v.velocity);else if(v.params.freeModeSticky)return void v.slideReset();v.params.freeModeMomentumBounce&&h?(v.updateProgress(p),v.setWrapperTransition(u),v.setWrapperTranslate(d),v.onTransitionStart(),v.animating=!0,v.wrapper.transitionEnd(function(){v&&M&&(v.emit("onMomentumBounce",v),v.setWrapperTransition(v.params.speed),v.setWrapperTranslate(p),v.wrapper.transitionEnd(function(){v&&v.onTransitionEnd()}))})):v.velocity?(v.updateProgress(d),v.setWrapperTransition(u),v.setWrapperTranslate(d),v.onTransitionStart(),v.animating||(v.animating=!0,v.wrapper.transitionEnd(function(){v&&v.onTransitionEnd()}))):v.updateProgress(d),v.updateActiveIndex()}return void((!v.params.freeModeMomentum||i>=v.params.longSwipesMs)&&(v.updateProgress(),v.updateActiveIndex()))}var w,S=0,k=v.slidesSizesGrid[0];for(w=0;w<v.slidesGrid.length;w+=v.params.slidesPerGroup)"undefined"!=typeof v.slidesGrid[w+v.params.slidesPerGroup]?r>=v.slidesGrid[w]&&r<v.slidesGrid[w+v.params.slidesPerGroup]&&(S=w,k=v.slidesGrid[w+v.params.slidesPerGroup]-v.slidesGrid[w]):r>=v.slidesGrid[w]&&(S=w,k=v.slidesGrid[v.slidesGrid.length-1]-v.slidesGrid[v.slidesGrid.length-2]);var A=(r-v.slidesGrid[S])/k;if(i>v.params.longSwipesMs){if(!v.params.longSwipes)return void v.slideTo(v.activeIndex);"next"===v.swipeDirection&&(A>=v.params.longSwipesRatio?v.slideTo(S+v.params.slidesPerGroup):v.slideTo(S)),"prev"===v.swipeDirection&&(A>1-v.params.longSwipesRatio?v.slideTo(S+v.params.slidesPerGroup):v.slideTo(S))}else{if(!v.params.shortSwipes)return void v.slideTo(v.activeIndex);"next"===v.swipeDirection&&v.slideTo(S+v.params.slidesPerGroup),"prev"===v.swipeDirection&&v.slideTo(S)}}},v._slideTo=function(e,t){return v.slideTo(e,t,!0,!0)},v.slideTo=function(e,t,n,i){"undefined"==typeof n&&(n=!0),"undefined"==typeof e&&(e=0),0>e&&(e=0),v.snapIndex=Math.floor(e/v.params.slidesPerGroup),v.snapIndex>=v.snapGrid.length&&(v.snapIndex=v.snapGrid.length-1);var s=-v.snapGrid[v.snapIndex];v.params.autoplay&&v.autoplaying&&(i||!v.params.autoplayDisableOnInteraction?v.pauseAutoplay(t):v.stopAutoplay()),v.updateProgress(s);for(var a=0;a<v.slidesGrid.length;a++)-Math.floor(100*s)>=Math.floor(100*v.slidesGrid[a])&&(e=a);if(!v.params.allowSwipeToNext&&s<v.translate&&s<v.minTranslate())return!1;if(!v.params.allowSwipeToPrev&&s>v.translate&&s>v.maxTranslate()&&(v.activeIndex||0)!==e)return!1;if("undefined"==typeof t&&(t=v.params.speed),v.previousIndex=v.activeIndex||0,v.activeIndex=e,s===v.translate)return v.updateClasses(),!1;v.updateClasses(),v.onTransitionStart(n);r()?s:0,r()?0:s;return 0===t?(v.setWrapperTransition(0),v.setWrapperTranslate(s),v.onTransitionEnd(n)):(v.setWrapperTransition(t),v.setWrapperTranslate(s),v.animating||(v.animating=!0,v.wrapper.transitionEnd(function(){v&&v.onTransitionEnd(n)}))),!0},v.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),v.lazy&&v.lazy.onTransitionStart(),e&&(v.emit("onTransitionStart",v),v.activeIndex!==v.previousIndex&&v.emit("onSlideChangeStart",v))},v.onTransitionEnd=function(e){v.animating=!1,v.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),v.lazy&&v.lazy.onTransitionEnd(),e&&(v.emit("onTransitionEnd",v),v.activeIndex!==v.previousIndex&&v.emit("onSlideChangeEnd",v)),
v.params.hashnav&&v.hashnav&&v.hashnav.setHash()},v.slideNext=function(e,t,n){if(v.params.loop){if(v.animating)return!1;v.fixLoop();v.container[0].clientLeft;return v.slideTo(v.activeIndex+v.params.slidesPerGroup,t,e,n)}return v.slideTo(v.activeIndex+v.params.slidesPerGroup,t,e,n)},v._slideNext=function(e){return v.slideNext(!0,e,!0)},v.slidePrev=function(e,t,n){if(v.params.loop){if(v.animating)return!1;v.fixLoop();v.container[0].clientLeft;return v.slideTo(v.activeIndex-1,t,e,n)}return v.slideTo(v.activeIndex-1,t,e,n)},v._slidePrev=function(e){return v.slidePrev(!0,e,!0)},v.slideReset=function(e,t,n){return v.slideTo(v.activeIndex,t,e)},v.setWrapperTransition=function(e,t){v.wrapper.transition(e),"slide"!==v.params.effect&&v.effects[v.params.effect]&&v.effects[v.params.effect].setTransition(e),v.params.parallax&&v.parallax&&v.parallax.setTransition(e),v.params.scrollbar&&v.scrollbar&&v.scrollbar.setTransition(e),v.params.control&&v.controller&&v.controller.setTransition(e,t),v.emit("onSetTransition",v,e)},v.setWrapperTranslate=function(e,t,n){var i=0,a=0,o=0;r()?i=v.rtl?-e:e:a=e,v.params.roundLengths&&(i=s(i),a=s(a)),v.params.virtualTranslate||(v.support.transforms3d?v.wrapper.transform("translate3d("+i+"px, "+a+"px, "+o+"px)"):v.wrapper.transform("translate("+i+"px, "+a+"px)")),v.translate=r()?i:a,t&&v.updateActiveIndex(),"slide"!==v.params.effect&&v.effects[v.params.effect]&&v.effects[v.params.effect].setTranslate(v.translate),v.params.parallax&&v.parallax&&v.parallax.setTranslate(v.translate),v.params.scrollbar&&v.scrollbar&&v.scrollbar.setTranslate(v.translate),v.params.control&&v.controller&&v.controller.setTranslate(v.translate,n),v.emit("onSetTranslate",v,v.translate)},v.getTranslate=function(e,t){var n,i,r,s;return"undefined"==typeof t&&(t="x"),v.params.virtualTranslate?v.rtl?-v.translate:v.translate:(r=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(i=r.transform||r.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),s=new window.WebKitCSSMatrix("none"===i?"":i)):(s=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=s.toString().split(",")),"x"===t&&(i=window.WebKitCSSMatrix?s.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(i=window.WebKitCSSMatrix?s.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),v.rtl&&i&&(i=-i),i||0)},v.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=r()?"x":"y"),v.getTranslate(v.wrapper[0],e)},v.observers=[],v.initObservers=function(){if(v.params.observeParents)for(var e=v.container.parents(),t=0;t<e.length;t++)l(e[t]);l(v.container[0],{childList:!1}),l(v.wrapper[0],{attributes:!1})},v.disconnectObservers=function(){for(var e=0;e<v.observers.length;e++)v.observers[e].disconnect();v.observers=[]},v.createLoop=function(){v.wrapper.children("."+v.params.slideClass+"."+v.params.slideDuplicateClass).remove();var e=v.wrapper.children("."+v.params.slideClass);"auto"!==v.params.slidesPerView||v.params.loopedSlides||(v.params.loopedSlides=e.length),v.loopedSlides=parseInt(v.params.loopedSlides||v.params.slidesPerView,10),v.loopedSlides=v.loopedSlides+v.params.loopAdditionalSlides,v.loopedSlides>e.length&&(v.loopedSlides=e.length);var n,i=[],r=[];for(e.each(function(n,s){var a=t(this);n<v.loopedSlides&&r.push(s),n<e.length&&n>=e.length-v.loopedSlides&&i.push(s),a.attr("data-swiper-slide-index",n)}),n=0;n<r.length;n++)v.wrapper.append(t(r[n].cloneNode(!0)).addClass(v.params.slideDuplicateClass));for(n=i.length-1;n>=0;n--)v.wrapper.prepend(t(i[n].cloneNode(!0)).addClass(v.params.slideDuplicateClass))},v.destroyLoop=function(){v.wrapper.children("."+v.params.slideClass+"."+v.params.slideDuplicateClass).remove(),v.slides.removeAttr("data-swiper-slide-index")},v.fixLoop=function(){var e;v.activeIndex<v.loopedSlides?(e=v.slides.length-3*v.loopedSlides+v.activeIndex,e+=v.loopedSlides,v.slideTo(e,0,!1,!0)):("auto"===v.params.slidesPerView&&v.activeIndex>=2*v.loopedSlides||v.activeIndex>v.slides.length-2*v.params.slidesPerView)&&(e=-v.slides.length+v.activeIndex+v.loopedSlides,e+=v.loopedSlides,v.slideTo(e,0,!1,!0))},v.appendSlide=function(e){if(v.params.loop&&v.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&v.wrapper.append(e[t]);else v.wrapper.append(e);v.params.loop&&v.createLoop(),v.params.observer&&v.support.observer||v.update(!0)},v.prependSlide=function(e){v.params.loop&&v.destroyLoop();var t=v.activeIndex+1;if("object"==typeof e&&e.length){for(var n=0;n<e.length;n++)e[n]&&v.wrapper.prepend(e[n]);t=v.activeIndex+e.length}else v.wrapper.prepend(e);v.params.loop&&v.createLoop(),v.params.observer&&v.support.observer||v.update(!0),v.slideTo(t,0,!1)},v.removeSlide=function(e){v.params.loop&&(v.destroyLoop(),v.slides=v.wrapper.children("."+v.params.slideClass));var t,n=v.activeIndex;if("object"==typeof e&&e.length){for(var i=0;i<e.length;i++)t=e[i],v.slides[t]&&v.slides.eq(t).remove(),n>t&&n--;n=Math.max(n,0)}else t=e,v.slides[t]&&v.slides.eq(t).remove(),n>t&&n--,n=Math.max(n,0);v.params.loop&&v.createLoop(),v.params.observer&&v.support.observer||v.update(!0),v.params.loop?v.slideTo(n+v.loopedSlides,0,!1):v.slideTo(n,0,!1)},v.removeAllSlides=function(){for(var e=[],t=0;t<v.slides.length;t++)e.push(t);v.removeSlide(e)},v.effects={fade:{setTranslate:function(){for(var e=0;e<v.slides.length;e++){var t=v.slides.eq(e),n=t[0].swiperSlideOffset,i=-n;v.params.virtualTranslate||(i-=v.translate);var s=0;r()||(s=i,i=0);var a=v.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:a}).transform("translate3d("+i+"px, "+s+"px, 0px)")}},setTransition:function(e){if(v.slides.transition(e),v.params.virtualTranslate&&0!==e){var t=!1;v.slides.transitionEnd(function(){if(!t&&v){t=!0,v.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<e.length;n++)v.wrapper.trigger(e[n])}})}}},cube:{setTranslate:function(){var e,n=0;v.params.cube.shadow&&(r()?(e=v.wrapper.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),v.wrapper.append(e)),e.css({height:v.width+"px"})):(e=v.container.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),v.container.append(e))));for(var i=0;i<v.slides.length;i++){var s=v.slides.eq(i),a=90*i,o=Math.floor(a/360);v.rtl&&(a=-a,o=Math.floor(-a/360));var l=Math.max(Math.min(s[0].progress,1),-1),u=0,c=0,d=0;i%4===0?(u=4*-o*v.size,d=0):(i-1)%4===0?(u=0,d=4*-o*v.size):(i-2)%4===0?(u=v.size+4*o*v.size,d=v.size):(i-3)%4===0&&(u=-v.size,d=3*v.size+4*v.size*o),v.rtl&&(u=-u),r()||(c=u,u=0);var p="rotateX("+(r()?0:-a)+"deg) rotateY("+(r()?a:0)+"deg) translate3d("+u+"px, "+c+"px, "+d+"px)";if(1>=l&&l>-1&&(n=90*i+90*l,v.rtl&&(n=90*-i-90*l)),s.transform(p),v.params.cube.slideShadows){var h=r()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),f=r()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");0===h.length&&(h=t('<div class="swiper-slide-shadow-'+(r()?"left":"top")+'"></div>'),s.append(h)),0===f.length&&(f=t('<div class="swiper-slide-shadow-'+(r()?"right":"bottom")+'"></div>'),s.append(f));s[0].progress;h.length&&(h[0].style.opacity=-s[0].progress),f.length&&(f[0].style.opacity=s[0].progress)}}if(v.wrapper.css({"-webkit-transform-origin":"50% 50% -"+v.size/2+"px","-moz-transform-origin":"50% 50% -"+v.size/2+"px","-ms-transform-origin":"50% 50% -"+v.size/2+"px","transform-origin":"50% 50% -"+v.size/2+"px"}),v.params.cube.shadow)if(r())e.transform("translate3d(0px, "+(v.width/2+v.params.cube.shadowOffset)+"px, "+-v.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+v.params.cube.shadowScale+")");else{var m=Math.abs(n)-90*Math.floor(Math.abs(n)/90),g=1.5-(Math.sin(2*m*Math.PI/360)/2+Math.cos(2*m*Math.PI/360)/2),w=v.params.cube.shadowScale,y=v.params.cube.shadowScale/g,x=v.params.cube.shadowOffset;e.transform("scale3d("+w+", 1, "+y+") translate3d(0px, "+(v.height/2+x)+"px, "+-v.height/2/y+"px) rotateX(-90deg)")}var b=v.isSafari||v.isUiWebView?-v.size/2:0;v.wrapper.transform("translate3d(0px,0,"+b+"px) rotateX("+(r()?0:n)+"deg) rotateY("+(r()?-n:0)+"deg)")},setTransition:function(e){v.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),v.params.cube.shadow&&!r()&&v.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=v.translate,n=r()?-e+v.width/2:-e+v.height/2,i=r()?v.params.coverflow.rotate:-v.params.coverflow.rotate,s=v.params.coverflow.depth,a=0,o=v.slides.length;o>a;a++){var l=v.slides.eq(a),u=v.slidesSizesGrid[a],c=l[0].swiperSlideOffset,d=(n-c-u/2)/u*v.params.coverflow.modifier,p=r()?i*d:0,h=r()?0:i*d,f=-s*Math.abs(d),m=r()?0:v.params.coverflow.stretch*d,g=r()?v.params.coverflow.stretch*d:0;Math.abs(g)<.001&&(g=0),Math.abs(m)<.001&&(m=0),Math.abs(f)<.001&&(f=0),Math.abs(p)<.001&&(p=0),Math.abs(h)<.001&&(h=0);var w="translate3d("+g+"px,"+m+"px,"+f+"px)  rotateX("+h+"deg) rotateY("+p+"deg)";if(l.transform(w),l[0].style.zIndex=-Math.abs(Math.round(d))+1,v.params.coverflow.slideShadows){var y=r()?l.find(".swiper-slide-shadow-left"):l.find(".swiper-slide-shadow-top"),x=r()?l.find(".swiper-slide-shadow-right"):l.find(".swiper-slide-shadow-bottom");0===y.length&&(y=t('<div class="swiper-slide-shadow-'+(r()?"left":"top")+'"></div>'),l.append(y)),0===x.length&&(x=t('<div class="swiper-slide-shadow-'+(r()?"right":"bottom")+'"></div>'),l.append(x)),y.length&&(y[0].style.opacity=d>0?d:0),x.length&&(x[0].style.opacity=-d>0?-d:0)}}if(v.browser.ie){var b=v.wrapper[0].style;b.perspectiveOrigin=n+"px 50%"}},setTransition:function(e){v.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},v.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,n){if("undefined"!=typeof e&&("undefined"==typeof n&&(n=!0),0!==v.slides.length)){var i=v.slides.eq(e),r=i.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!i.hasClass("swiper-lazy")||i.hasClass("swiper-lazy-loaded")||i.hasClass("swiper-lazy-loading")||(r=r.add(i[0])),0!==r.length&&r.each(function(){var e=t(this);e.addClass("swiper-lazy-loading");var r=e.attr("data-background"),s=e.attr("data-src"),a=e.attr("data-srcset");v.loadImage(e[0],s||r,a,!1,function(){if(r?(e.css("background-image","url("+r+")"),e.removeAttr("data-background")):(a&&(e.attr("srcset",a),e.removeAttr("data-srcset")),s&&(e.attr("src",s),e.removeAttr("data-src"))),e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),i.find(".swiper-lazy-preloader, .preloader").remove(),v.params.loop&&n){var t=i.attr("data-swiper-slide-index");if(i.hasClass(v.params.slideDuplicateClass)){var o=v.wrapper.children('[data-swiper-slide-index="'+t+'"]:not(.'+v.params.slideDuplicateClass+")");v.lazy.loadImageInSlide(o.index(),!1)}else{var l=v.wrapper.children("."+v.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]');v.lazy.loadImageInSlide(l.index(),!1)}}v.emit("onLazyImageReady",v,i[0],e[0])}),v.emit("onLazyImageLoad",v,i[0],e[0])})}},load:function(){var e;if(v.params.watchSlidesVisibility)v.wrapper.children("."+v.params.slideVisibleClass).each(function(){v.lazy.loadImageInSlide(t(this).index())});else if(v.params.slidesPerView>1)for(e=v.activeIndex;e<v.activeIndex+v.params.slidesPerView;e++)v.slides[e]&&v.lazy.loadImageInSlide(e);else v.lazy.loadImageInSlide(v.activeIndex);if(v.params.lazyLoadingInPrevNext)if(v.params.slidesPerView>1){for(e=v.activeIndex+v.params.slidesPerView;e<v.activeIndex+v.params.slidesPerView+v.params.slidesPerView;e++)v.slides[e]&&v.lazy.loadImageInSlide(e);for(e=v.activeIndex-v.params.slidesPerView;e<v.activeIndex;e++)v.slides[e]&&v.lazy.loadImageInSlide(e)}else{var n=v.wrapper.children("."+v.params.slideNextClass);n.length>0&&v.lazy.loadImageInSlide(n.index());var i=v.wrapper.children("."+v.params.slidePrevClass);i.length>0&&v.lazy.loadImageInSlide(i.index())}},onTransitionStart:function(){v.params.lazyLoading&&(v.params.lazyLoadingOnTransitionStart||!v.params.lazyLoadingOnTransitionStart&&!v.lazy.initialImageLoaded)&&v.lazy.load()},onTransitionEnd:function(){v.params.lazyLoading&&!v.params.lazyLoadingOnTransitionStart&&v.lazy.load()}},v.scrollbar={isTouched:!1,setDragPosition:function(e){var t=v.scrollbar,n=r()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,i=n-t.track.offset()[r()?"left":"top"]-t.dragSize/2,s=-v.minTranslate()*t.moveDivider,a=-v.maxTranslate()*t.moveDivider;s>i?i=s:i>a&&(i=a),i=-i/t.moveDivider,v.updateProgress(i),v.setWrapperTranslate(i,!0)},dragStart:function(e){var t=v.scrollbar;t.isTouched=!0,e.preventDefault(),e.stopPropagation(),t.setDragPosition(e),clearTimeout(t.dragTimeout),t.track.transition(0),v.params.scrollbarHide&&t.track.css("opacity",1),v.wrapper.transition(100),t.drag.transition(100),v.emit("onScrollbarDragStart",v)},dragMove:function(e){var t=v.scrollbar;t.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),v.wrapper.transition(0),t.track.transition(0),t.drag.transition(0),v.emit("onScrollbarDragMove",v))},dragEnd:function(e){var t=v.scrollbar;t.isTouched&&(t.isTouched=!1,v.params.scrollbarHide&&(clearTimeout(t.dragTimeout),t.dragTimeout=setTimeout(function(){t.track.css("opacity",0),t.track.transition(400)},1e3)),v.emit("onScrollbarDragEnd",v),v.params.scrollbarSnapOnRelease&&v.slideReset())},enableDraggable:function(){var e=v.scrollbar,n=v.support.touch?e.track:document;t(e.track).on(v.touchEvents.start,e.dragStart),t(n).on(v.touchEvents.move,e.dragMove),t(n).on(v.touchEvents.end,e.dragEnd)},disableDraggable:function(){var e=v.scrollbar,n=v.support.touch?e.track:document;t(e.track).off(v.touchEvents.start,e.dragStart),t(n).off(v.touchEvents.move,e.dragMove),t(n).off(v.touchEvents.end,e.dragEnd)},set:function(){if(v.params.scrollbar){var e=v.scrollbar;e.track=t(v.params.scrollbar),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=t('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=r()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=v.size/v.virtualSize,e.moveDivider=e.divider*(e.trackSize/v.size),e.dragSize=e.trackSize*e.divider,r()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.divider>=1?e.track[0].style.display="none":e.track[0].style.display="",v.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(v.params.scrollbar){var e,t=v.scrollbar,n=(v.translate||0,t.dragSize);e=(t.trackSize-t.dragSize)*v.progress,v.rtl&&r()?(e=-e,e>0?(n=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(n=t.trackSize+e)):0>e?(n=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(n=t.trackSize-e),r()?(v.support.transforms3d?t.drag.transform("translate3d("+e+"px, 0, 0)"):t.drag.transform("translateX("+e+"px)"),t.drag[0].style.width=n+"px"):(v.support.transforms3d?t.drag.transform("translate3d(0px, "+e+"px, 0)"):t.drag.transform("translateY("+e+"px)"),t.drag[0].style.height=n+"px"),v.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){v.params.scrollbar&&v.scrollbar.drag.transition(e)}},v.controller={LinearSpline:function(e,t){this.x=e,this.y=t,this.lastIndex=e.length-1;var n,i;this.x.length;this.interpolate=function(e){return e?(i=r(this.x,e),n=i-1,(e-this.x[n])*(this.y[i]-this.y[n])/(this.x[i]-this.x[n])+this.y[n]):0};var r=function(){var e,t,n;return function(i,r){for(t=-1,e=i.length;e-t>1;)i[n=e+t>>1]<=r?t=n:e=n;return e}}()},getInterpolateFunction:function(e){v.controller.spline||(v.controller.spline=v.params.loop?new v.controller.LinearSpline(v.slidesGrid,e.slidesGrid):new v.controller.LinearSpline(v.snapGrid,e.snapGrid))},setTranslate:function(e,t){function i(t){e=t.rtl&&"horizontal"===t.params.direction?-v.translate:v.translate,"slide"===v.params.controlBy&&(v.controller.getInterpolateFunction(t),s=-v.controller.spline.interpolate(-e)),s&&"container"!==v.params.controlBy||(r=(t.maxTranslate()-t.minTranslate())/(v.maxTranslate()-v.minTranslate()),s=(e-v.minTranslate())*r+t.minTranslate()),v.params.controlInverse&&(s=t.maxTranslate()-s),t.updateProgress(s),t.setWrapperTranslate(s,!1,v),t.updateActiveIndex()}var r,s,a=v.params.control;if(v.isArray(a))for(var o=0;o<a.length;o++)a[o]!==t&&a[o]instanceof n&&i(a[o]);else a instanceof n&&t!==a&&i(a)},setTransition:function(e,t){function i(t){t.setWrapperTransition(e,v),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){s&&(t.params.loop&&"slide"===v.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}var r,s=v.params.control;if(v.isArray(s))for(r=0;r<s.length;r++)s[r]!==t&&s[r]instanceof n&&i(s[r]);else s instanceof n&&t!==s&&i(s)}},v.hashnav={init:function(){if(v.params.hashnav){v.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var t=0,n=0,i=v.slides.length;i>n;n++){var r=v.slides.eq(n),s=r.attr("data-hash");if(s===e&&!r.hasClass(v.params.slideDuplicateClass)){var a=r.index();v.slideTo(a,t,v.params.runCallbacksOnInit,!0)}}}},setHash:function(){v.hashnav.initialized&&v.params.hashnav&&(document.location.hash=v.slides.eq(v.activeIndex).attr("data-hash")||"")}},v.disableKeyboardControl=function(){t(document).off("keydown",u)},v.enableKeyboardControl=function(){t(document).on("keydown",u)},v.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},v.params.mousewheelControl){try{new window.WheelEvent("wheel"),v.mousewheel.event="wheel"}catch(O){}v.mousewheel.event||void 0===document.onmousewheel||(v.mousewheel.event="mousewheel"),v.mousewheel.event||(v.mousewheel.event="DOMMouseScroll")}v.disableMousewheelControl=function(){return v.mousewheel.event?(v.container.off(v.mousewheel.event,c),!0):!1},v.enableMousewheelControl=function(){return v.mousewheel.event?(v.container.on(v.mousewheel.event,c),!0):!1},v.parallax={setTranslate:function(){v.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){d(this,v.progress)}),v.slides.each(function(){var e=t(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=Math.min(Math.max(e[0].progress,-1),1);d(this,t)})})},setTransition:function(e){"undefined"==typeof e&&(e=v.params.speed),v.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var n=t(this),i=parseInt(n.attr("data-swiper-parallax-duration"),10)||e;0===e&&(i=0),n.transition(i)})}},v._plugins=[];for(var L in v.plugins){var j=v.plugins[L](v,v.params[L]);j&&v._plugins.push(j)}return v.callPlugins=function(e){for(var t=0;t<v._plugins.length;t++)e in v._plugins[t]&&v._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},v.emitterEventListeners={},v.emit=function(e){v.params[e]&&v.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(v.emitterEventListeners[e])for(t=0;t<v.emitterEventListeners[e].length;t++)v.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);v.callPlugins&&v.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},v.on=function(e,t){return e=p(e),v.emitterEventListeners[e]||(v.emitterEventListeners[e]=[]),v.emitterEventListeners[e].push(t),v},v.off=function(e,t){var n;if(e=p(e),"undefined"==typeof t)return v.emitterEventListeners[e]=[],v;if(v.emitterEventListeners[e]&&0!==v.emitterEventListeners[e].length){for(n=0;n<v.emitterEventListeners[e].length;n++)v.emitterEventListeners[e][n]===t&&v.emitterEventListeners[e].splice(n,1);return v}},v.once=function(e,t){e=p(e);var n=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),v.off(e,n)};return v.on(e,n),v},v.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(t(e.target).is(v.params.nextButton)?(v.onClickNext(e),v.isEnd?v.a11y.notify(v.params.lastSlideMessage):v.a11y.notify(v.params.nextSlideMessage)):t(e.target).is(v.params.prevButton)&&(v.onClickPrev(e),v.isBeginning?v.a11y.notify(v.params.firstSlideMessage):v.a11y.notify(v.params.prevSlideMessage)),t(e.target).is("."+v.params.bulletClass)&&t(e.target)[0].click())},liveRegion:t('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=v.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){if(v.params.nextButton){var e=t(v.params.nextButton);v.a11y.makeFocusable(e),v.a11y.addRole(e,"button"),v.a11y.addLabel(e,v.params.nextSlideMessage)}if(v.params.prevButton){var n=t(v.params.prevButton);v.a11y.makeFocusable(n),v.a11y.addRole(n,"button"),v.a11y.addLabel(n,v.params.prevSlideMessage)}t(v.container).append(v.a11y.liveRegion)},initPagination:function(){v.params.pagination&&v.params.paginationClickable&&v.bullets&&v.bullets.length&&v.bullets.each(function(){var e=t(this);v.a11y.makeFocusable(e),v.a11y.addRole(e,"button"),v.a11y.addLabel(e,v.params.paginationBulletMessage.replace(/{{index}}/,e.index()+1))})},destroy:function(){v.a11y.liveRegion&&v.a11y.liveRegion.length>0&&v.a11y.liveRegion.remove()}},v.init=function(){v.params.loop&&v.createLoop(),v.updateContainerSize(),v.updateSlidesSize(),v.updatePagination(),v.params.scrollbar&&v.scrollbar&&(v.scrollbar.set(),v.params.scrollbarDraggable&&v.scrollbar.enableDraggable()),"slide"!==v.params.effect&&v.effects[v.params.effect]&&(v.params.loop||v.updateProgress(),v.effects[v.params.effect].setTranslate()),v.params.loop?v.slideTo(v.params.initialSlide+v.loopedSlides,0,v.params.runCallbacksOnInit):(v.slideTo(v.params.initialSlide,0,v.params.runCallbacksOnInit),0===v.params.initialSlide&&(v.parallax&&v.params.parallax&&v.parallax.setTranslate(),v.lazy&&v.params.lazyLoading&&(v.lazy.load(),v.lazy.initialImageLoaded=!0))),v.attachEvents(),v.params.observer&&v.support.observer&&v.initObservers(),v.params.preloadImages&&!v.params.lazyLoading&&v.preloadImages(),v.params.autoplay&&v.startAutoplay(),v.params.keyboardControl&&v.enableKeyboardControl&&v.enableKeyboardControl(),v.params.mousewheelControl&&v.enableMousewheelControl&&v.enableMousewheelControl(),v.params.hashnav&&v.hashnav&&v.hashnav.init(),v.params.a11y&&v.a11y&&v.a11y.init(),v.emit("onInit",v)},v.cleanupStyles=function(){v.container.removeClass(v.classNames.join(" ")).removeAttr("style"),v.wrapper.removeAttr("style"),v.slides&&v.slides.length&&v.slides.removeClass([v.params.slideVisibleClass,v.params.slideActiveClass,v.params.slideNextClass,v.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),v.paginationContainer&&v.paginationContainer.length&&v.paginationContainer.removeClass(v.params.paginationHiddenClass),v.bullets&&v.bullets.length&&v.bullets.removeClass(v.params.bulletActiveClass),v.params.prevButton&&t(v.params.prevButton).removeClass(v.params.buttonDisabledClass),v.params.nextButton&&t(v.params.nextButton).removeClass(v.params.buttonDisabledClass),v.params.scrollbar&&v.scrollbar&&(v.scrollbar.track&&v.scrollbar.track.length&&v.scrollbar.track.removeAttr("style"),v.scrollbar.drag&&v.scrollbar.drag.length&&v.scrollbar.drag.removeAttr("style"))},v.destroy=function(e,t){v.detachEvents(),v.stopAutoplay(),v.params.scrollbar&&v.scrollbar&&v.params.scrollbarDraggable&&v.scrollbar.disableDraggable(),v.params.loop&&v.destroyLoop(),t&&v.cleanupStyles(),v.disconnectObservers(),v.params.keyboardControl&&v.disableKeyboardControl&&v.disableKeyboardControl(),v.params.mousewheelControl&&v.disableMousewheelControl&&v.disableMousewheelControl(),v.params.a11y&&v.a11y&&v.a11y.destroy(),v.emit("onDestroy"),e!==!1&&(v=null)},v.init(),v}};n.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),n=e.match(/(iPad).*OS\s([\d_]+)/),i=e.match(/(iPod)(.*OS\s([\d_]+))?/),r=!n&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:n||r||i,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<t.length;n++)if(t[n]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var i=["jQuery","Zepto","Dom7"],r=0;r<i.length;r++)window[i[r]]&&e(window[i[r]]);var s;s="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7,s&&("transitionEnd"in s.fn||(s.fn.transitionEnd=function(e){function t(s){if(s.target===this)for(e.call(this,s),n=0;n<i.length;n++)r.off(i[n],t)}var n,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=this;if(e)for(n=0;n<i.length;n++)r.on(i[n],t);return this}),"transform"in s.fn||(s.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this}),"transition"in s.fn||(s.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this})),window.Swiper=n}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define("swiper",[],function(){"use strict";return window.Swiper}),function(e,t){"function"==typeof define&&define.amd?define("chartist",[],function(){return e.Chartist=t()}):"object"==typeof exports?module.exports=t():e.Chartist=t()}(this,function(){var e={version:"0.9.4"};return function(e,t,n){"use strict";n.noop=function(e){return e},n.alphaNumerate=function(e){return String.fromCharCode(97+e%26)},n.extend=function(e){e=e||{};var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){for(var i in t)"object"!=typeof t[i]||null===t[i]||t[i]instanceof Array?e[i]=t[i]:e[i]=n.extend({},e[i],t[i])}),e},n.replaceAll=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},n.stripUnit=function(e){return"string"==typeof e&&(e=e.replace(/[^0-9\+-\.]/g,"")),+e},n.ensureUnit=function(e,t){return"number"==typeof e&&(e+=t),e},n.querySelector=function(e){return e instanceof Node?e:t.querySelector(e)},n.times=function(e){return Array.apply(null,new Array(e))},n.sum=function(e,t){return e+(t?t:0)},n.mapMultiply=function(e){return function(t){return t*e}},n.mapAdd=function(e){return function(t){return t+e}},n.serialMap=function(e,t){var i=[],r=Math.max.apply(null,e.map(function(e){return e.length}));return n.times(r).forEach(function(n,r){var s=e.map(function(e){return e[r]});i[r]=t.apply(null,s)}),i},n.roundWithPrecision=function(e,t){var i=Math.pow(10,t||n.precision);return Math.round(e*i)/i},n.precision=8,n.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},n.serialize=function(e){return null===e||void 0===e?e:("number"==typeof e?e=""+e:"object"==typeof e&&(e=JSON.stringify({data:e})),Object.keys(n.escapingMap).reduce(function(e,t){return n.replaceAll(e,t,n.escapingMap[t])},e))},n.deserialize=function(e){if("string"!=typeof e)return e;e=Object.keys(n.escapingMap).reduce(function(e,t){return n.replaceAll(e,n.escapingMap[t],t)},e);try{e=JSON.parse(e),e=void 0!==e.data?e.data:e}catch(t){}return e},n.createSvg=function(e,t,i,r){var s;return t=t||"100%",i=i||"100%",Array.prototype.slice.call(e.querySelectorAll("svg")).filter(function(e){return e.getAttributeNS("http://www.w3.org/2000/xmlns/",n.xmlNs.prefix)}).forEach(function(t){e.removeChild(t)}),s=new n.Svg("svg").attr({width:t,height:i}).addClass(r).attr({style:"width: "+t+"; height: "+i+";"}),e.appendChild(s._node),s},n.reverseData=function(e){e.labels.reverse(),e.series.reverse();for(var t=0;t<e.series.length;t++)"object"==typeof e.series[t]&&void 0!==e.series[t].data?e.series[t].data.reverse():e.series[t]instanceof Array&&e.series[t].reverse()},n.getDataArray=function(e,t,i){function r(e){if(n.isFalseyButZero(e))return void 0;if((e.data||e)instanceof Array)return(e.data||e).map(r);if(e.hasOwnProperty("value"))return r(e.value);if(i){var t={};return"string"==typeof i?t[i]=n.getNumberOrUndefined(e):t.y=n.getNumberOrUndefined(e),t.x=e.hasOwnProperty("x")?n.getNumberOrUndefined(e.x):t.x,t.y=e.hasOwnProperty("y")?n.getNumberOrUndefined(e.y):t.y,t}return n.getNumberOrUndefined(e)}return(t&&!e.reversed||!t&&e.reversed)&&(n.reverseData(e),e.reversed=!e.reversed),e.series.map(r)},n.normalizePadding=function(e,t){return t=t||0,"number"==typeof e?{top:e,right:e,bottom:e,left:e}:{top:"number"==typeof e.top?e.top:t,right:"number"==typeof e.right?e.right:t,bottom:"number"==typeof e.bottom?e.bottom:t,left:"number"==typeof e.left?e.left:t}},n.getMetaData=function(e,t){var i=e.data?e.data[t]:e[t];return i?n.serialize(i.meta):void 0},n.orderOfMagnitude=function(e){return Math.floor(Math.log(Math.abs(e))/Math.LN10)},n.projectLength=function(e,t,n){return t/n.range*e},n.getAvailableHeight=function(e,t){return Math.max((n.stripUnit(t.height)||e.height())-(t.chartPadding.top+t.chartPadding.bottom)-t.axisX.offset,0)},n.getHighLow=function(e,t,i){function r(e){if(void 0===e)return void 0;if(e instanceof Array)for(var t=0;t<e.length;t++)r(e[t]);else{var n=i?+e[i]:+e;a&&n>s.high&&(s.high=n),o&&n<s.low&&(s.low=n)}}t=n.extend({},t,i?t["axis"+i.toUpperCase()]:{});var s={high:void 0===t.high?-Number.MAX_VALUE:+t.high,low:void 0===t.low?Number.MAX_VALUE:+t.low},a=void 0===t.high,o=void 0===t.low;return(a||o)&&r(e),(t.referenceValue||0===t.referenceValue)&&(s.high=Math.max(t.referenceValue,s.high),s.low=Math.min(t.referenceValue,s.low)),s.high<=s.low&&(0===s.low?s.high=1:s.low<0?s.high=0:s.low=0),s},n.isNum=function(e){return!isNaN(e)&&isFinite(e)},n.isFalseyButZero=function(e){return!e&&0!==e},n.getNumberOrUndefined=function(e){return isNaN(+e)?void 0:+e},n.getMultiValue=function(e,t){return n.isNum(e)?+e:e?e[t||"y"]||0:0},n.rho=function(e){function t(e,n){return e%n===0?n:t(n,e%n)}function n(e){return e*e+1}if(1===e)return e;var i,r=2,s=2;if(e%2===0)return 2;do r=n(r)%e,s=n(n(s))%e,i=t(Math.abs(r-s),e);while(1===i);return i},n.getBounds=function(e,t,i,r){var s,a,o,l=0,u={high:t.high,low:t.low};u.valueRange=u.high-u.low,u.oom=n.orderOfMagnitude(u.valueRange),u.step=Math.pow(10,u.oom),u.min=Math.floor(u.low/u.step)*u.step,u.max=Math.ceil(u.high/u.step)*u.step,u.range=u.max-u.min,u.numberOfSteps=Math.round(u.range/u.step);
var c=n.projectLength(e,u.step,u),d=i>c,p=r?n.rho(u.range):0;if(r&&n.projectLength(e,1,u)>=i)u.step=1;else if(r&&p<u.step&&n.projectLength(e,p,u)>=i)u.step=p;else for(;;){if(d&&n.projectLength(e,u.step,u)<=i)u.step*=2;else{if(d||!(n.projectLength(e,u.step/2,u)>=i))break;if(u.step/=2,r&&u.step%1!==0){u.step*=2;break}}if(l++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}for(a=u.min,o=u.max;a+u.step<=u.low;)a+=u.step;for(;o-u.step>=u.high;)o-=u.step;for(u.min=a,u.max=o,u.range=u.max-u.min,u.values=[],s=u.min;s<=u.max;s+=u.step)u.values.push(n.roundWithPrecision(s));return u},n.polarToCartesian=function(e,t,n,i){var r=(i-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}},n.createChartRect=function(e,t,i){var r=!(!t.axisX&&!t.axisY),s=r?t.axisY.offset:0,a=r?t.axisX.offset:0,o=e.width()||n.stripUnit(t.width)||0,l=e.height()||n.stripUnit(t.height)||0,u=n.normalizePadding(t.chartPadding,i);o=Math.max(o,s+u.left+u.right),l=Math.max(l,a+u.top+u.bottom);var c={padding:u,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return r?("start"===t.axisX.position?(c.y2=u.top+a,c.y1=Math.max(l-u.bottom,c.y2+1)):(c.y2=u.top,c.y1=Math.max(l-u.bottom-a,c.y2+1)),"start"===t.axisY.position?(c.x1=u.left+s,c.x2=Math.max(o-u.right,c.x1+1)):(c.x1=u.left,c.x2=Math.max(o-u.right-s,c.x1+1))):(c.x1=u.left,c.x2=Math.max(o-u.right,c.x1+1),c.y2=u.top,c.y1=Math.max(l-u.bottom,c.y2+1)),c},n.createGrid=function(e,t,i,r,s,a,o,l){var u={};u[i.units.pos+"1"]=e,u[i.units.pos+"2"]=e,u[i.counterUnits.pos+"1"]=r,u[i.counterUnits.pos+"2"]=r+s;var c=a.elem("line",u,o.join(" "));l.emit("draw",n.extend({type:"grid",axis:i,index:t,group:a,element:c},u))},n.createLabel=function(e,t,i,r,s,a,o,l,u,c,d){var p,h={};if(h[s.units.pos]=e+o[s.units.pos],h[s.counterUnits.pos]=o[s.counterUnits.pos],h[s.units.len]=t,h[s.counterUnits.len]=a-10,c){var f='<span class="'+u.join(" ")+'" style="'+s.units.len+": "+Math.round(h[s.units.len])+"px; "+s.counterUnits.len+": "+Math.round(h[s.counterUnits.len])+'px">'+r[i]+"</span>";p=l.foreignObject(f,n.extend({style:"overflow: visible;"},h))}else p=l.elem("text",h,u.join(" ")).text(r[i]);d.emit("draw",n.extend({type:"label",axis:s,index:i,group:l,element:p,text:r[i]},h))},n.getSeriesOption=function(e,t,n){if(e.name&&t.series&&t.series[e.name]){var i=t.series[e.name];return i.hasOwnProperty(n)?i[n]:t[n]}return t[n]},n.optionsProvider=function(t,i,r){function s(t){var s=o;if(o=n.extend({},u),i)for(l=0;l<i.length;l++){var a=e.matchMedia(i[l][0]);a.matches&&(o=n.extend(o,i[l][1]))}r&&!t&&r.emit("optionsChanged",{previousOptions:s,currentOptions:o})}function a(){c.forEach(function(e){e.removeListener(s)})}var o,l,u=n.extend({},t),c=[];if(!e.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(i)for(l=0;l<i.length;l++){var d=e.matchMedia(i[l][0]);d.addListener(s),c.push(d)}return s(!0),{removeMediaQueryListeners:a,getCurrentOptions:function(){return n.extend({},o)}}}}(window,document,e),function(e,t,n){"use strict";n.Interpolation={},n.Interpolation.none=function(){return function(e,t){for(var i=new n.Svg.Path,r=!0,s=1;s<e.length;s+=2){var a=t[(s-1)/2];void 0===a.value?r=!0:r?(i.move(e[s-1],e[s],!1,a),r=!1):i.line(e[s-1],e[s],!1,a)}return i}},n.Interpolation.simple=function(e){var t={divisor:2};e=n.extend({},t,e);var i=1/Math.max(1,e.divisor);return function(e,t){for(var r=new n.Svg.Path,s=!0,a=2;a<e.length;a+=2){var o=e[a-2],l=e[a-1],u=e[a],c=e[a+1],d=(u-o)*i,p=t[a/2-1],h=t[a/2];void 0===p.value?s=!0:(s&&r.move(o,l,!1,p),void 0!==h.value&&(r.curve(o+d,l,u-d,c,u,c,!1,h),s=!1))}return r}},n.Interpolation.cardinal=function(e){function t(e,t){for(var n=[],i=!0,r=0;r<e.length;r+=2)void 0===t[r/2].value?i=!0:(i&&(n.push({pathCoordinates:[],valueData:[]}),i=!1),n[n.length-1].pathCoordinates.push(e[r],e[r+1]),n[n.length-1].valueData.push(t[r/2]));return n}var i={tension:1};e=n.extend({},i,e);var r=Math.min(1,Math.max(0,e.tension)),s=1-r;return function a(e,i){var o=t(e,i);if(o.length>1){var l=[];return o.forEach(function(e){l.push(a(e.pathCoordinates,e.valueData))}),n.Svg.Path.join(l)}if(e=o[0].pathCoordinates,i=o[0].valueData,e.length<=4)return n.Interpolation.none()(e,i);for(var u,c=(new n.Svg.Path).move(e[0],e[1],!1,i[0]),d=0,p=e.length;p-2*!u>d;d+=2){var h=[{x:+e[d-2],y:+e[d-1]},{x:+e[d],y:+e[d+1]},{x:+e[d+2],y:+e[d+3]},{x:+e[d+4],y:+e[d+5]}];u?d?p-4===d?h[3]={x:+e[0],y:+e[1]}:p-2===d&&(h[2]={x:+e[0],y:+e[1]},h[3]={x:+e[2],y:+e[3]}):h[0]={x:+e[p-2],y:+e[p-1]}:p-4===d?h[3]=h[2]:d||(h[0]={x:+e[d],y:+e[d+1]}),c.curve(r*(-h[0].x+6*h[1].x+h[2].x)/6+s*h[2].x,r*(-h[0].y+6*h[1].y+h[2].y)/6+s*h[2].y,r*(h[1].x+6*h[2].x-h[3].x)/6+s*h[2].x,r*(h[1].y+6*h[2].y-h[3].y)/6+s*h[2].y,h[2].x,h[2].y,!1,i[(d+2)/2])}return c}},n.Interpolation.step=function(e){var t={postpone:!0};return e=n.extend({},t,e),function(t,i){for(var r=new n.Svg.Path,s=!0,a=2;a<t.length;a+=2){var o=t[a-2],l=t[a-1],u=t[a],c=t[a+1],d=i[a/2-1],p=i[a/2];void 0===d.value?s=!0:(s&&r.move(o,l,!1,d),void 0!==p.value&&(e.postpone?r.line(u,l,!1,d):r.line(o,c,!1,p),r.line(u,c,!1,p),s=!1))}return r}}}(window,document,e),function(e,t,n){"use strict";n.EventEmitter=function(){function e(e,t){i[e]=i[e]||[],i[e].push(t)}function t(e,t){i[e]&&(t?(i[e].splice(i[e].indexOf(t),1),0===i[e].length&&delete i[e]):delete i[e])}function n(e,t){i[e]&&i[e].forEach(function(e){e(t)}),i["*"]&&i["*"].forEach(function(n){n(e,t)})}var i=[];return{addEventHandler:e,removeEventHandler:t,emit:n}}}(window,document,e),function(e,t,n){"use strict";function i(e){var t=[];if(e.length)for(var n=0;n<e.length;n++)t.push(e[n]);return t}function r(e,t){var i=t||this.prototype||n.Class,r=Object.create(i);n.Class.cloneDefinitions(r,e);var s=function(){var e,t=r.constructor||function(){};return e=this===n?Object.create(r):this,t.apply(e,Array.prototype.slice.call(arguments,0)),e};return s.prototype=r,s["super"]=i,s.extend=this.extend,s}function s(){var e=i(arguments),t=e[0];return e.splice(1,e.length-1).forEach(function(e){Object.getOwnPropertyNames(e).forEach(function(n){delete t[n],Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}),t}n.Class={extend:r,cloneDefinitions:s}}(window,document,e),function(e,t,n){"use strict";function i(e,t,i){return e&&(this.data=e,this.eventEmitter.emit("data",{type:"update",data:this.data})),t&&(this.options=n.extend({},i?this.options:this.defaultOptions,t),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=n.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function r(){return this.initializeTimeoutId?e.clearTimeout(this.initializeTimeoutId):(e.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function s(e,t){return this.eventEmitter.addEventHandler(e,t),this}function a(e,t){return this.eventEmitter.removeEventHandler(e,t),this}function o(){e.addEventListener("resize",this.resizeListener),this.optionsProvider=n.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(e){e instanceof Array?e[0](this,e[1]):e(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}function l(e,t,i,r,s){this.container=n.querySelector(e),this.data=t,this.defaultOptions=i,this.options=r,this.responsiveOptions=s,this.eventEmitter=n.EventEmitter(),this.supportsForeignObject=n.Svg.isSupported("Extensibility"),this.supportsAnimations=n.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(o.bind(this),0)}n.Base=n.Class.extend({constructor:l,optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:i,detach:r,on:s,off:a,version:n.version,supportsForeignObject:!1})}(window,document,e),function(e,t,n){"use strict";function i(e,i,r,s,a){e instanceof Element?this._node=e:(this._node=t.createElementNS(k,e),"svg"===e&&this._node.setAttributeNS(E,n.xmlNs.qualifiedName,n.xmlNs.uri)),i&&this.attr(i),r&&this.addClass(r),s&&(a&&s._node.firstChild?s._node.insertBefore(this._node,s._node.firstChild):s._node.appendChild(this._node))}function r(e,t){return"string"==typeof e?t?this._node.getAttributeNS(t,e):this._node.getAttribute(e):(Object.keys(e).forEach(function(i){void 0!==e[i]&&(t?this._node.setAttributeNS(t,[n.xmlNs.prefix,":",i].join(""),e[i]):this._node.setAttribute(i,e[i]))}.bind(this)),this)}function s(e,t,i,r){return new n.Svg(e,t,i,this,r)}function a(){return this._node.parentNode instanceof SVGElement?new n.Svg(this._node.parentNode):null}function o(){for(var e=this._node;"svg"!==e.nodeName;)e=e.parentNode;return new n.Svg(e)}function l(e){var t=this._node.querySelector(e);return t?new n.Svg(t):null}function u(e){var t=this._node.querySelectorAll(e);return t.length?new n.Svg.List(t):null}function c(e,n,i,r){if("string"==typeof e){var s=t.createElement("div");s.innerHTML=e,e=s.firstChild}e.setAttribute("xmlns",M);var a=this.elem("foreignObject",n,i,r);return a._node.appendChild(e),a}function d(e){return this._node.appendChild(t.createTextNode(e)),this}function p(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function h(){return this._node.parentNode.removeChild(this._node),this.parent()}function f(e){return this._node.parentNode.replaceChild(e._node,this._node),e}function m(e,t){return t&&this._node.firstChild?this._node.insertBefore(e._node,this._node.firstChild):this._node.appendChild(e._node),this}function g(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function v(e){return this._node.setAttribute("class",this.classes(this._node).concat(e.trim().split(/\s+/)).filter(function(e,t,n){return n.indexOf(e)===t}).join(" ")),this}function w(e){var t=e.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(e){return-1===t.indexOf(e)}).join(" ")),this}function y(){return this._node.setAttribute("class",""),this}function x(e,t){try{return e.getBBox()[t]}catch(n){}return 0}function b(){return this._node.clientHeight||Math.round(x(this._node,"height"))||this._node.parentNode.clientHeight}function S(){return this._node.clientWidth||Math.round(x(this._node,"width"))||this._node.parentNode.clientWidth}function T(e,t,i){return void 0===t&&(t=!0),Object.keys(e).forEach(function(r){function s(e,t){var s,a,o,l={};e.easing&&(o=e.easing instanceof Array?e.easing:n.Svg.Easing[e.easing],delete e.easing),e.begin=n.ensureUnit(e.begin,"ms"),e.dur=n.ensureUnit(e.dur,"ms"),o&&(e.calcMode="spline",e.keySplines=o.join(" "),e.keyTimes="0;1"),t&&(e.fill="freeze",l[r]=e.from,this.attr(l),a=n.stripUnit(e.begin||0),e.begin="indefinite"),s=this.elem("animate",n.extend({attributeName:r},e)),t&&setTimeout(function(){try{s._node.beginElement()}catch(t){l[r]=e.to,this.attr(l),s.remove()}}.bind(this),a),i&&s._node.addEventListener("beginEvent",function(){i.emit("animationBegin",{element:this,animate:s._node,params:e})}.bind(this)),s._node.addEventListener("endEvent",function(){i&&i.emit("animationEnd",{element:this,animate:s._node,params:e}),t&&(l[r]=e.to,this.attr(l),s.remove())}.bind(this))}e[r]instanceof Array?e[r].forEach(function(e){s.bind(this)(e,!1)}.bind(this)):s.bind(this)(e[r],t)}.bind(this)),this}function C(e){var t=this;this.svgElements=[];for(var i=0;i<e.length;i++)this.svgElements.push(new n.Svg(e[i]));Object.keys(n.Svg.prototype).filter(function(e){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(e)}).forEach(function(e){t[e]=function(){var i=Array.prototype.slice.call(arguments,0);return t.svgElements.forEach(function(t){n.Svg.prototype[e].apply(t,i)}),t}})}var k="http://www.w3.org/2000/svg",E="http://www.w3.org/2000/xmlns/",M="http://www.w3.org/1999/xhtml";n.xmlNs={qualifiedName:"xmlns:ct",prefix:"ct",uri:"http://gionkunz.github.com/chartist-js/ct"},n.Svg=n.Class.extend({constructor:i,attr:r,elem:s,parent:a,root:o,querySelector:l,querySelectorAll:u,foreignObject:c,text:d,empty:p,remove:h,replace:f,append:m,classes:g,addClass:v,removeClass:w,removeAllClasses:y,height:b,width:S,animate:T}),n.Svg.isSupported=function(e){return t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+e,"1.1")};var A={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};n.Svg.Easing=A,n.Svg.List=n.Class.extend({constructor:C})}(window,document,e),function(e,t,n){"use strict";function i(e,t,i,r,s,a){var o=n.extend({command:s?e.toLowerCase():e.toUpperCase()},t,a?{data:a}:{});i.splice(r,0,o)}function r(e,t){e.forEach(function(n,i){x[n.command.toLowerCase()].forEach(function(r,s){t(n,r,i,s,e)})})}function s(e,t){this.pathElements=[],this.pos=0,this.close=e,this.options=n.extend({},b,t)}function a(e){return void 0!==e?(this.pos=Math.max(0,Math.min(this.pathElements.length,e)),this):this.pos}function o(e){return this.pathElements.splice(this.pos,e),this}function l(e,t,n,r){return i("M",{x:+e,y:+t},this.pathElements,this.pos++,n,r),this}function u(e,t,n,r){return i("L",{x:+e,y:+t},this.pathElements,this.pos++,n,r),this}function c(e,t,n,r,s,a,o,l){return i("C",{x1:+e,y1:+t,x2:+n,y2:+r,x:+s,y:+a},this.pathElements,this.pos++,o,l),this}function d(e,t,n,r,s,a,o,l,u){return i("A",{rx:+e,ry:+t,xAr:+n,lAf:+r,sf:+s,x:+a,y:+o},this.pathElements,this.pos++,l,u),this}function p(e){var t=e.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(e,t){return t.match(/[A-Za-z]/)&&e.push([]),e[e.length-1].push(t),e},[]);"Z"===t[t.length-1][0].toUpperCase()&&t.pop();var i=t.map(function(e){var t=e.shift(),i=x[t.toLowerCase()];return n.extend({command:t},i.reduce(function(t,n,i){return t[n]=+e[i],t},{}))}),r=[this.pos,0];return Array.prototype.push.apply(r,i),Array.prototype.splice.apply(this.pathElements,r),this.pos+=i.length,this}function h(){var e=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(t,n){var i=x[n.command.toLowerCase()].map(function(t){return this.options.accuracy?Math.round(n[t]*e)/e:n[t]}.bind(this));return t+n.command+i.join(",")}.bind(this),"")+(this.close?"Z":"")}function f(e,t){return r(this.pathElements,function(n,i){n[i]*="x"===i[0]?e:t}),this}function m(e,t){return r(this.pathElements,function(n,i){n[i]+="x"===i[0]?e:t}),this}function g(e){return r(this.pathElements,function(t,n,i,r,s){var a=e(t,n,i,r,s);(a||0===a)&&(t[n]=a)}),this}function v(e){var t=new n.Svg.Path(e||this.close);return t.pos=this.pos,t.pathElements=this.pathElements.slice().map(function(e){return n.extend({},e)}),t.options=n.extend({},this.options),t}function w(e){var t=[new n.Svg.Path];return this.pathElements.forEach(function(i){i.command===e.toUpperCase()&&0!==t[t.length-1].pathElements.length&&t.push(new n.Svg.Path),t[t.length-1].pathElements.push(i)}),t}function y(e,t,i){for(var r=new n.Svg.Path(t,i),s=0;s<e.length;s++)for(var a=e[s],o=0;o<a.pathElements.length;o++)r.pathElements.push(a.pathElements[o]);return r}var x={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},b={accuracy:3};n.Svg.Path=n.Class.extend({constructor:s,position:a,remove:o,move:l,line:u,curve:c,arc:d,scale:f,translate:m,transform:g,parse:p,stringify:h,clone:v,splitByCommand:w}),n.Svg.Path.elementDescriptions=x,n.Svg.Path.join=y}(window,document,e),function(e,t,n){"use strict";function i(e,t,n,i){this.units=e,this.counterUnits=e===s.x?s.y:s.x,this.chartRect=t,this.axisLength=t[e.rectEnd]-t[e.rectStart],this.gridOffset=t[e.rectOffset],this.ticks=n,this.options=i}function r(e,t,i,r,s){var a=r["axis"+this.units.pos.toUpperCase()],o=this.ticks.map(this.projectValue.bind(this)),l=this.ticks.map(a.labelInterpolationFnc);o.forEach(function(u,c){var d,p={x:0,y:0};d=o[c+1]?o[c+1]-u:Math.max(this.axisLength-u,30),(l[c]||0===l[c])&&("x"===this.units.pos?(u=this.chartRect.x1+u,p.x=r.axisX.labelOffset.x,"start"===r.axisX.position?p.y=this.chartRect.padding.top+r.axisX.labelOffset.y+(i?5:20):p.y=this.chartRect.y1+r.axisX.labelOffset.y+(i?5:20)):(u=this.chartRect.y1-u,p.y=r.axisY.labelOffset.y-(i?d:0),"start"===r.axisY.position?p.x=i?this.chartRect.padding.left+r.axisY.labelOffset.x:this.chartRect.x1-10:p.x=this.chartRect.x2+r.axisY.labelOffset.x+10),a.showGrid&&n.createGrid(u,c,this,this.gridOffset,this.chartRect[this.counterUnits.len](),e,[r.classNames.grid,r.classNames[this.units.dir]],s),a.showLabel&&n.createLabel(u,d,c,l,this,a.offset,p,t,[r.classNames.label,r.classNames[this.units.dir],r.classNames[a.position]],i,s))}.bind(this))}var s={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};n.Axis=n.Class.extend({constructor:i,createGridAndLabels:r,projectValue:function(e,t,n){throw new Error("Base axis can't be instantiated!")}}),n.Axis.units=s}(window,document,e),function(e,t,n){"use strict";function i(e,t,i,r){var s=r.highLow||n.getHighLow(t.normalized,r,e.pos);this.bounds=n.getBounds(i[e.rectEnd]-i[e.rectStart],s,r.scaleMinSpace||20,r.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},n.AutoScaleAxis["super"].constructor.call(this,e,i,this.bounds.values,r)}function r(e){return this.axisLength*(+n.getMultiValue(e,this.units.pos)-this.bounds.min)/this.bounds.range}n.AutoScaleAxis=n.Axis.extend({constructor:i,projectValue:r})}(window,document,e),function(e,t,n){"use strict";function i(e,t,i,r){var s=r.highLow||n.getHighLow(t.normalized,r,e.pos);this.divisor=r.divisor||1,this.ticks=r.ticks||n.times(this.divisor).map(function(e,t){return s.low+(s.high-s.low)/this.divisor*t}.bind(this)),this.range={min:s.low,max:s.high},n.FixedScaleAxis["super"].constructor.call(this,e,i,this.ticks,r),this.stepLength=this.axisLength/this.divisor}function r(e){return this.axisLength*(+n.getMultiValue(e,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}n.FixedScaleAxis=n.Axis.extend({constructor:i,projectValue:r})}(window,document,e),function(e,t,n){"use strict";function i(e,t,i,r){n.StepAxis["super"].constructor.call(this,e,i,r.ticks,r),this.stepLength=this.axisLength/(r.ticks.length-(r.stretch?1:0))}function r(e,t){return this.stepLength*t}n.StepAxis=n.Axis.extend({constructor:i,projectValue:r})}(window,document,e),function(e,t,n){"use strict";function i(e){var t={raw:this.data,normalized:n.getDataArray(this.data,e.reverseData,!0)};this.svg=n.createSvg(this.container,e.width,e.height,e.classNames.chart);var i,r,a=this.svg.elem("g").addClass(e.classNames.gridGroup),o=this.svg.elem("g"),l=this.svg.elem("g").addClass(e.classNames.labelGroup),u=n.createChartRect(this.svg,e,s.padding);i=void 0===e.axisX.type?new n.StepAxis(n.Axis.units.x,t,u,n.extend({},e.axisX,{ticks:t.raw.labels,stretch:e.fullWidth})):e.axisX.type.call(n,n.Axis.units.x,t,u,e.axisX),r=void 0===e.axisY.type?new n.AutoScaleAxis(n.Axis.units.y,t,u,n.extend({},e.axisY,{high:n.isNum(e.high)?e.high:e.axisY.high,low:n.isNum(e.low)?e.low:e.axisY.low})):e.axisY.type.call(n,n.Axis.units.y,t,u,e.axisY),i.createGridAndLabels(a,l,this.supportsForeignObject,e,this.eventEmitter),r.createGridAndLabels(a,l,this.supportsForeignObject,e,this.eventEmitter),t.raw.series.forEach(function(s,a){var l=o.elem("g");l.attr({"series-name":s.name,meta:n.serialize(s.meta)},n.xmlNs.uri),l.addClass([e.classNames.series,s.className||e.classNames.series+"-"+n.alphaNumerate(a)].join(" "));var c=[],d=[];t.normalized[a].forEach(function(e,o){var l={x:u.x1+i.projectValue(e,o,t.normalized[a]),y:u.y1-r.projectValue(e,o,t.normalized[a])};c.push(l.x,l.y),d.push({value:e,valueIndex:o,meta:n.getMetaData(s,o)})}.bind(this));var p={lineSmooth:n.getSeriesOption(s,e,"lineSmooth"),showPoint:n.getSeriesOption(s,e,"showPoint"),showLine:n.getSeriesOption(s,e,"showLine"),showArea:n.getSeriesOption(s,e,"showArea"),areaBase:n.getSeriesOption(s,e,"areaBase")},h="function"==typeof p.lineSmooth?p.lineSmooth:p.lineSmooth?n.Interpolation.cardinal():n.Interpolation.none(),f=h(c,d);if(p.showPoint&&f.pathElements.forEach(function(t){var o=l.elem("line",{x1:t.x,y1:t.y,x2:t.x+.01,y2:t.y},e.classNames.point).attr({value:[t.data.value.x,t.data.value.y].filter(function(e){return e}).join(","),meta:t.data.meta},n.xmlNs.uri);this.eventEmitter.emit("draw",{type:"point",value:t.data.value,index:t.data.valueIndex,meta:t.data.meta,series:s,seriesIndex:a,axisX:i,axisY:r,group:l,element:o,x:t.x,y:t.y})}.bind(this)),p.showLine){var m=l.elem("path",{d:f.stringify()},e.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:t.normalized[a],path:f.clone(),chartRect:u,index:a,series:s,seriesIndex:a,axisX:i,axisY:r,group:l,element:m})}if(p.showArea&&r.range){var g=Math.max(Math.min(p.areaBase,r.range.max),r.range.min),v=u.y1-r.projectValue(g);f.splitByCommand("M").filter(function(e){return e.pathElements.length>1}).map(function(e){var t=e.pathElements[0],n=e.pathElements[e.pathElements.length-1];return e.clone(!0).position(0).remove(1).move(t.x,v).line(t.x,t.y).position(e.pathElements.length+1).line(n.x,v)}).forEach(function(o){var c=l.elem("path",{d:o.stringify()},e.classNames.area,!0).attr({values:t.normalized[a]},n.xmlNs.uri);this.eventEmitter.emit("draw",{type:"area",values:t.normalized[a],path:o.clone(),series:s,seriesIndex:a,axisX:i,axisY:r,chartRect:u,index:a,group:l,element:c})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:r.bounds,chartRect:u,axisX:i,axisY:r,svg:this.svg,options:e})}function r(e,t,i,r){n.Line["super"].constructor.call(this,e,t,s,n.extend({},s,i),r)}var s={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};n.Line=n.Base.extend({constructor:r,createChart:i})}(window,document,e),function(e,t,n){"use strict";function i(e){var t,i={raw:this.data,normalized:e.distributeSeries?n.getDataArray(this.data,e.reverseData,e.horizontalBars?"x":"y").map(function(e){return[e]}):n.getDataArray(this.data,e.reverseData,e.horizontalBars?"x":"y")};this.svg=n.createSvg(this.container,e.width,e.height,e.classNames.chart+(e.horizontalBars?" "+e.classNames.horizontalBars:""));var r=this.svg.elem("g").addClass(e.classNames.gridGroup),a=this.svg.elem("g"),o=this.svg.elem("g").addClass(e.classNames.labelGroup);if(e.stackBars){var l=n.serialMap(i.normalized,function(){return Array.prototype.slice.call(arguments).map(function(e){return e}).reduce(function(e,t){return{x:e.x+t.x||0,y:e.y+t.y||0}},{x:0,y:0})});t=n.getHighLow([l],n.extend({},e,{referenceValue:0}),e.horizontalBars?"x":"y")}else t=n.getHighLow(i.normalized,n.extend({},e,{referenceValue:0}),e.horizontalBars?"x":"y");t.high=+e.high||(0===e.high?0:t.high),t.low=+e.low||(0===e.low?0:t.low);var u,c,d,p,h,f=n.createChartRect(this.svg,e,s.padding);c=e.distributeSeries&&e.stackBars?i.raw.labels.slice(0,1):i.raw.labels,e.horizontalBars?(u=p=void 0===e.axisX.type?new n.AutoScaleAxis(n.Axis.units.x,i,f,n.extend({},e.axisX,{highLow:t,referenceValue:0})):e.axisX.type.call(n,n.Axis.units.x,i,f,n.extend({},e.axisX,{highLow:t,referenceValue:0})),d=h=void 0===e.axisY.type?new n.StepAxis(n.Axis.units.y,i,f,{ticks:c}):e.axisY.type.call(n,n.Axis.units.y,i,f,e.axisY)):(d=p=void 0===e.axisX.type?new n.StepAxis(n.Axis.units.x,i,f,{ticks:c}):e.axisX.type.call(n,n.Axis.units.x,i,f,e.axisX),u=h=void 0===e.axisY.type?new n.AutoScaleAxis(n.Axis.units.y,i,f,n.extend({},e.axisY,{highLow:t,referenceValue:0})):e.axisY.type.call(n,n.Axis.units.y,i,f,n.extend({},e.axisY,{highLow:t,referenceValue:0})));var m=e.horizontalBars?f.x1+u.projectValue(0):f.y1-u.projectValue(0),g=[];d.createGridAndLabels(r,o,this.supportsForeignObject,e,this.eventEmitter),u.createGridAndLabels(r,o,this.supportsForeignObject,e,this.eventEmitter),i.raw.series.forEach(function(t,r){var s,o,l=r-(i.raw.series.length-1)/2;s=e.distributeSeries&&!e.stackBars?d.axisLength/i.normalized.length/2:e.distributeSeries&&e.stackBars?d.axisLength/2:d.axisLength/i.normalized[r].length/2,o=a.elem("g"),o.attr({"series-name":t.name,meta:n.serialize(t.meta)},n.xmlNs.uri),o.addClass([e.classNames.series,t.className||e.classNames.series+"-"+n.alphaNumerate(r)].join(" ")),i.normalized[r].forEach(function(a,c){var v,w,y,x;if(x=e.distributeSeries&&!e.stackBars?r:e.distributeSeries&&e.stackBars?0:c,v=e.horizontalBars?{x:f.x1+u.projectValue(a&&a.x?a.x:0,c,i.normalized[r]),y:f.y1-d.projectValue(a&&a.y?a.y:0,x,i.normalized[r])}:{x:f.x1+d.projectValue(a&&a.x?a.x:0,x,i.normalized[r]),y:f.y1-u.projectValue(a&&a.y?a.y:0,c,i.normalized[r])},d instanceof n.StepAxis&&(d.options.stretch||(v[d.units.pos]+=s*(e.horizontalBars?-1:1)),v[d.units.pos]+=e.stackBars||e.distributeSeries?0:l*e.seriesBarDistance*(e.horizontalBars?-1:1)),y=g[c]||m,g[c]=y-(m-v[d.counterUnits.pos]),void 0!==a){var b={};b[d.units.pos+"1"]=v[d.units.pos],b[d.units.pos+"2"]=v[d.units.pos],b[d.counterUnits.pos+"1"]=e.stackBars?y:m,b[d.counterUnits.pos+"2"]=e.stackBars?g[c]:v[d.counterUnits.pos],b.x1=Math.min(Math.max(b.x1,f.x1),f.x2),b.x2=Math.min(Math.max(b.x2,f.x1),f.x2),b.y1=Math.min(Math.max(b.y1,f.y2),f.y1),b.y2=Math.min(Math.max(b.y2,f.y2),f.y1),w=o.elem("line",b,e.classNames.bar).attr({value:[a.x,a.y].filter(function(e){return e}).join(","),meta:n.getMetaData(t,c)},n.xmlNs.uri),this.eventEmitter.emit("draw",n.extend({type:"bar",value:a,index:c,meta:n.getMetaData(t,c),series:t,seriesIndex:r,axisX:p,axisY:h,chartRect:f,group:o,element:w},b))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:u.bounds,chartRect:f,axisX:p,axisY:h,svg:this.svg,options:e})}function r(e,t,i,r){n.Bar["super"].constructor.call(this,e,t,s,n.extend({},s,i),r)}var s={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,onlyInteger:!1,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,horizontalBars:!1,distributeSeries:!1,reverseData:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};n.Bar=n.Base.extend({constructor:r,createChart:i})}(window,document,e),function(e,t,n){"use strict";function i(e,t,n){var i=t.x>e.x;return i&&"explode"===n||!i&&"implode"===n?"start":i&&"implode"===n||!i&&"explode"===n?"end":"middle"}function r(e){var t,r,s,o,l,u=[],c=e.startAngle,d=n.getDataArray(this.data,e.reverseData);this.svg=n.createSvg(this.container,e.width,e.height,e.donut?e.classNames.chartDonut:e.classNames.chartPie),r=n.createChartRect(this.svg,e,a.padding),s=Math.min(r.width()/2,r.height()/2),l=e.total||d.reduce(function(e,t){return e+t},0),s-=e.donut?e.donutWidth/2:0,o="outside"===e.labelPosition||e.donut?s:"center"===e.labelPosition?0:s/2,o+=e.labelOffset;var p={x:r.x1+r.width()/2,y:r.y2+r.height()/2},h=1===this.data.series.filter(function(e){return e.hasOwnProperty("value")?0!==e.value:0!==e}).length;e.showLabel&&(t=this.svg.elem("g",null,null,!0));for(var f=0;f<this.data.series.length;f++){var m=this.data.series[f];u[f]=this.svg.elem("g",null,null,!0),u[f].attr({"series-name":m.name},n.xmlNs.uri),u[f].addClass([e.classNames.series,m.className||e.classNames.series+"-"+n.alphaNumerate(f)].join(" "));var g=c+d[f]/l*360;g-c===360&&(g-=.01);var v=n.polarToCartesian(p.x,p.y,s,c-(0===f||h?0:.2)),w=n.polarToCartesian(p.x,p.y,s,g),y=new n.Svg.Path(!e.donut).move(w.x,w.y).arc(s,s,0,g-c>180,0,v.x,v.y);e.donut||y.line(p.x,p.y);var x=u[f].elem("path",{d:y.stringify()},e.donut?e.classNames.sliceDonut:e.classNames.slicePie);if(x.attr({value:d[f],meta:n.serialize(m.meta)},n.xmlNs.uri),e.donut&&x.attr({style:"stroke-width: "+ +e.donutWidth+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:d[f],totalDataSum:l,index:f,meta:m.meta,series:m,group:u[f],element:x,path:y.clone(),center:p,radius:s,startAngle:c,endAngle:g}),e.showLabel){var b=n.polarToCartesian(p.x,p.y,o,c+(g-c)/2),S=e.labelInterpolationFnc(this.data.labels?this.data.labels[f]:d[f],f);if(S||0===S){var T=t.elem("text",{dx:b.x,dy:b.y,"text-anchor":i(p,b,e.labelDirection)},e.classNames.label).text(""+S);this.eventEmitter.emit("draw",{type:"label",index:f,group:t,element:T,text:""+S,x:b.x,y:b.y})}}c=g}this.eventEmitter.emit("created",{chartRect:r,svg:this.svg,options:e})}function s(e,t,i,r){n.Pie["super"].constructor.call(this,e,t,a,n.extend({},a,i),r)}var a={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:n.noop,labelDirection:"neutral",reverseData:!1};n.Pie=n.Base.extend({constructor:s,createChart:r,determineAnchorPosition:i})}(window,document,e),e}),function(e,t){"function"==typeof define&&define.amd?define("chartist.plugins.tooltips",[],function(){return e.returnExportsGlobal=t()}):"object"==typeof exports?module.exports=t():e["Chartist.plugins.tooltips"]=t()}(this,function(){return function(e,t,n){"use strict";function i(e){e.style.display="block"}function r(e){e.style.display="none"}function s(e,t){return(" "+e.getAttribute("class")+" ").indexOf(" "+t+" ")>-1}function a(e,t){do e=e.nextSibling;while(e&&!s(e,t));return e}function o(e){return e.innerText||e.textContent}var l={currency:void 0,tooltipOffset:{x:0,y:-20}};n.plugins=n.plugins||{},n.plugins.tooltip=function(e){return e=n.extend({},l,e),function(l){function u(e,t,n){p.addEventListener(e,function(e){(!t||s(e.target,t))&&n(e)})}function c(t){f=f||h.offsetHeight,m=m||h.offsetWidth,h.style.top=(t.layerY||t.offsetY)-f+e.tooltipOffset.y+"px",h.style.left=(t.layerX||t.offsetX)-m/2+e.tooltipOffset.x+"px"}var d="ct-point";l instanceof n.Bar?d="ct-bar":l instanceof n.Pie&&(d=l.options.donut?"ct-slice-donut":"ct-slice-pie");var p=l.container,h=p.querySelector(".chartist-tooltip");h||(h=t.createElement("div"),
h.className="chartist-tooltip",p.appendChild(h));var f=h.offsetHeight,m=h.offsetWidth;r(h),u("mouseover",d,function(t){var r=t.target,s="",u=r.getAttribute("ct:meta")||"",d=r.getAttribute("ct:value");if(e.tooltipFnc)s=e.tooltipFnc(u,d);else{if(u)s+=u+"<br>";else if(l instanceof n.Pie){var p=a(r,"ct-label");p.length>0&&(s+=o(p)+"<br>")}e.currency&&(d=e.currency+d.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")),s+=d}h.innerHTML=s,c(t),i(h),f=h.offsetHeight,m=h.offsetWidth}),u("mouseout",d,function(){r(h)}),u("mousemove",null,function(e){c(e)})}}}(window,document,Chartist),Chartist.plugins.tooltips}),define("text!tpl/summary.html",[],function(){return'<div class="inner">\n\n    <div class="result-header">\n\n        <h1 class="result-title">\n            <%= copy.summaryTitle[userValues.title] %>\n        </h1>\n\n        <div class="result-overview">\n            <div class="intro">\n                <strong>Here\'s how your day looks</strong>\n\n                <span class="click-message">Click on the nodes to reveal more</span>\n\n                <span class="swipe-message">Swipe left to reveal more</span>\n            </div>\n\n            <div class="graph-wrapper">\n\n                <div id="graph" class="graph"></div>\n\n                <div class="labels">\n\n                    <%\n\n                    //var labelWidth = Math.floor(100 / (questions.length-1));\n                    var labelWidth = 100 / (questions.length-1);\n\n                    _.each(questions, function(question, j) {\n\n                    %>\n\n                        <span class="label" style="width: <%= labelWidth %>%">\n                            <span class="text"><%= question.title %></span>\n                        </span>\n\n                    <% }); %>\n\n                </div>\n\n            </div>\n\n        </div>\n\n    </div>\n\n    <div class="result-list swiper-container">\n\n        <div class="swiper-wrapper">\n\n            <% _.each(userAnswers, function(answer, i) { %>\n            <div id="result-list-item-<%= i %>" class="list-item swiper-slide">\n                <!--Chosen answer: <%= answer.chosenAnswer %>-->\n                <!--Value: <%= answer.value %>-->\n\n                <div class="text-box">\n\n                    <div class="img-wrapper">\n                        <img class="time" src="img/times/<%= data.questions[i].timeImg %>">\n                        <img class="mark"\n                             src="img/results-marks/<%= questions[i].answers[answer.chosenAnswer].eval %>-mark.svg">\n\n                        <img class="deco" src="img/summary/bundle-2.png">\n                    </div>\n\n                    <strong class="introTip">\n                        <%= questions[i].answers[answer.chosenAnswer].introTip %>\n                    </strong>\n\n                    <span class="tip">\n                        <%= questions[i].tip %>\n                    </span>\n\n                    <div class="arrows-wrapper">\n\n                        <% if (i > 0) { %>\n                        <span class="prev">\n                            <img src="img/arrow-left.svg">\n                            <% if (ie9) { %>\n                            <img src="img/times/png/<%= questions[i-1].timeImgIE %>">\n                            <% } else { %>\n                            <img src="img/times/<%= questions[i-1].timeImg %>">\n                            <% } %>\n                        </span>\n                        <% } %>\n\n                        <% if (i < questions.length-1) { %>\n                        <span class="next">\n                            <% if (ie9) { %>\n                            <img src="img/times/png/<%= questions[i+1].timeImgIE %>">\n                            <% } else { %>\n                            <img src="img/times/<%= questions[i+1].timeImg %>">\n                            <% } %>\n                            <img src="img/arrow-right.svg">\n                        </span>\n                        <% } %>\n\n                        <% if (i >= userAnswers.length-1) { %>\n                        <span class="restart">\n                            <% if (ie9) { %>\n                            <img src="img/restart.png">\n                            <% } else { %>\n                            <img src="img/restart.svg">\n                            <% } %>\n                        </span>\n                        <% } %>\n\n                    </div>\n\n\n                </div>\n\n            </div>\n            <% }); %>\n\n        </div>\n\n    </div>\n\n    <!--<div class="result-share">-->\n\n    <!--<div class="separator"></div>-->\n\n    <!--<strong>Know someone who could use their time more efficiently?</strong>-->\n\n    <!--<div class="share-icons-wrapper">-->\n\n    <!--<img class="share-twitter share-icon" src="img/share-twitter.png">-->\n    <!--<img class="share-facebook share-icon" src="img/share-facebook.png">-->\n    <!--<img class="share-email share-icon" src="img/share-email.png">-->\n\n    <!--</div>-->\n\n    <!--</div>-->\n\n\n</div>'}),define("text!nodeSvg",[],function(){return'<svg class="node" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"\n     y="0px"\n     width="31.333px" height="31.833px" viewBox="-8.833 41.417 31.333 31.833"\n     enable-background="new -8.833 41.417 31.333 31.833">\n    <g class="group-rotate">\n        <g class="group-scale">\n            <g>\n                <g>\n                    <polygon class="fill"\n                             points="21.317,52.916 21.321,72.027 -7.561,72.032 -7.564,42.727 12.396,42.724 20.894,52.916 			"/>\n                    <polygon class="fill"\n                             points="21.316,42.722 21.317,52.916 20.894,52.916 12.396,42.724 			"/>\n                </g>\n                <g>\n                    <polygon fill="none" stroke="#43193C" stroke-width="2.55" stroke-linecap="round"\n                             stroke-linejoin="round" stroke-miterlimit="10" points="\n				21.317,52.916 21.321,72.027 -7.561,72.032 -7.564,42.727 12.396,42.724 21.316,42.722 			"/>\n\n                    <line fill="none" stroke="#43193C" stroke-width="2.55" stroke-linecap="round"\n                          stroke-linejoin="round" stroke-miterlimit="10" x1="12.396" y1="42.724" x2="20.894"\n                          y2="52.916"/>\n                </g>\n            </g>\n            <g class="tick">\n                <g>\n                    <polygon fill="#43193C"\n                             points="-0.277,58.221 -2.57,60.155 2.283,65.9 15.858,54.438 13.907,52.126 2.622,61.654 			"/>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n'}),define("views/summaryView.js",["require","backbone","swiper","chartist","chartist.plugins.tooltips","text!tpl/summary.html","text!nodeSvg"],function(e){"use strict";var t=e("backbone"),n=e("swiper"),i=e("chartist");e("chartist.plugins.tooltips");var r=e("text!tpl/summary.html"),s=e("text!nodeSvg"),a=t.View.extend({template:_.template(r),type:"summary",initialize:function(){},render:function(){this.html=this.template({ie9:App.isIE,data:App.data,questions:App.data.questions,copy:App.data.copy,userAnswers:App.user.answers,userValues:App.user.values}),this.$el.append(this.html),this.addTargetBlank(),this.renderGraph(),this.renderSwiper(),this.setupElements(),this.setupEvents()},addTargetBlank:function(){this.$(".list-item a").attr("target","_blank")},renderGraph:function(){var e=_.map(App.data.questions,function(e){return e.title}),t=_.map(App.user.answers,function(e){return e.value}),n={labels:e,series:[t]},r={fullWidth:!0,width:"100%",height:"100%",high:6,low:0,axisX:{showLabel:!1,showGrid:!1,offset:0,position:"start"},axisY:{offset:0,showLabel:!1,showGrid:!1,position:"start"},chartPadding:{top:0,right:0,bottom:0,left:0}};new i.Line(this.$("#graph")[0],n,r),setTimeout(function(){this.renderGraphNodes()}.bind(this),0)},renderGraphNodes:function(){var e=this.$("#graph").find("svg"),t=e.find("[class~=ct-point]"),n=[],i="";e.find("[class~=graph-img]").remove(),t.each(function(e,t){var r=$(t),a=24,o=parseFloat(r.attr("x1"))-a/2,l=parseFloat(r.attr("y1"))-a/2,u=App.data.questions[e].answers[App.user.answers[e].chosenAnswer].eval;n.push({x:o,y:l,side:a,quality:u,style:Modernizr.prefixed("transform")+": rotate("+(~~(20*Math.random())-10)+"deg)"}),i+=s,r.remove()}.bind(this)),e.find("[class~=ct-series]")[0].id="img-points";var r=document.getElementById("img-points");$(r).append(i);var a=e.find("[class~=node]");n.forEach(function(e,t){var n=a.eq(t),i="";i=App.supportTransitions?0===t?" done  ":"":" done ",n.attr({id:"node-"+t,x:e.x,y:e.y,width:e.side+"px",height:e.side+"px","class":"node "+e.quality+i}),n.find("[class~=group-rotate]").attr("style",e.style)}.bind(this)),setTimeout(function(){this.updateNodes()}.bind(this),250),a.off().on("click",function(e){this.swiper.slideTo($(e.currentTarget).index()-1)}.bind(this))},renderSwiper:function(){this.swiper=new n(".swiper-container",{spaceBetween:50,roundLengths:!0,effect:App.supportTransitions?App.isTouch?"slide":"fade":void 0,simulateTouch:!1,shortSwipes:App.isTouch,longSwipes:App.isTouch,fade:{crossFade:!0},nextButton:".text-box .next",prevButton:".text-box .prev",onSlideChangeEnd:App.supportTransitions?this.updateNodes.bind(this):void 0})},updateNodes:function(e){if(!(App.width<App.mainBreakpoint)){var t=this.$("#graph").find("svg"),n=t.find("[class~=node]"),i=e?e.activeIndex:0;t&&n&&n[i]&&(this.setCurrentNode(n,i),this.setDoneNode(n,i))}},setDoneNode:function(e,t){var n=e[t],i=n.getAttribute("class");i.indexOf("done")<0&&n.setAttribute("class",i+" done ")},setCurrentNode:function(e,t){e.each(function(e,n){var i=n.getAttribute("class");if(i.indexOf("current")>-1){var r=i.replace("current","");n.setAttribute("class",r)}e===t&&(i=n.getAttribute("class"),n.setAttribute("class",i+" current "))}.bind(this))},setupElements:function(){this.$restart=this.$(".restart")},setupEvents:function(){var e=App.isTouch?"touchstart":"click";this.$restart.on(e,this.restart.bind(this))},restart:function(e){e.preventDefault(),this.$restart.off(),App.router.restart()}});return a}),define("views/mainView",["require","underscore","backbone","text!tpl/content.html","views/questionView.js","views/summaryView.js"],function(e){"use strict";var t=e("underscore"),n=e("backbone"),i=e("text!tpl/content.html"),r=e("views/questionView.js"),s=e("views/summaryView.js"),a=n.View.extend({template:t.template(i),initialize:function(){App.mediator.subscribe("resize",this.onResize.bind(this)),this.questionsViews=[]},render:function(){var e=this.template({copy:App.data.copy});this.$el.html(e),this.setupElements(),this.setupEvents(),this.onResize()},setupElements:function(){this.$content=this.$el.find("#content"),this.$questions=this.$el.find("#questions"),this.$summary=this.$el.find("#summary")},openQuestion:function(e){this.questionsViews[e]?this.showQuestion(e):this.renderQuestion(e)},renderQuestion:function(e){this.questionsViews[e]=new r({parent:"#questions",idx:e}),this.questionsViews[e].render(this.onResize.bind(this)),setTimeout(this.showQuestion.bind(this,e),250)},showQuestion:function(e){this.$questions.show(),this.summaryView&&(this.hide(this.summaryView),this.show(this.$questions)),t.each(this.questionsViews,function(t,n){parseInt(n)!==parseInt(e)?this.hide(t):this.show(t)}.bind(this)),(this.notFirstTime||App.width<App.mainBreakpoint||0===e)&&this.scrollToIframeTop(),this.notFirstTime=!0},renderSummary:function(){$("#summary").length||this.$content.append('<div id="summary" class="content-element hidden" />'),this.summaryView=new s({el:"#summary"}),this.summaryView.render()},showSummary:function(){App.user.calculateResults(),this.summaryView&&this.summaryView.remove(),this.renderSummary(),this.hide(this.$questions),this.show(this.summaryView),this.scrollToIframeTop(),setTimeout(function(){this.$questions.hide()}.bind(this),500)},setupEvents:function(){},show:function(e){e instanceof n.View?(e.$el.removeClass("hidden"),this.currentViewType=e.type,this.onResize()):e instanceof jQuery&&e.removeClass("hidden")},hide:function(e){e instanceof n.View?e.$el.addClass("hidden"):e instanceof jQuery&&e.addClass("hidden")},scrollToTop:function(){window.scrollTo(0,0)},scrollToIframeTop:function(){iframeMessenger.scrollTo(0,0),iframeMessenger.getPositionInformation(function(e){var t=Math.abs(e.iframeTop)-20;iframeMessenger.scrollTo(0,t)})},resetAll:function(){this.summaryView&&this.summaryView.remove(),t.each(this.questionsViews,function(e,t){e.reset()})},onResize:function(){setTimeout(function(){var e=0;if("summary"===this.currentViewType&&this.summaryView)this.$("#graph")&&this.summaryView.renderGraphNodes(),e=App.width<App.mainBreakpoint?this.summaryView.$el.outerHeight(!0):App.maxSummaryHeight;else if("question"===this.currentViewType&&this.questionsViews.length){var t=this.questionsViews[0];e=App.width<App.mainBreakpoint?t.$el.outerHeight(!0):t.$(".options-wrapper").eq(1).outerHeight(!0)+80}e&&this.currentViewType&&iframeMessenger.resize(e)}.bind(this),0)}});return a}),define("router",["require","backbone","views/mainView"],function(e){"use strict";var t=e("backbone"),n=e("views/mainView");return t.Router.extend({routes:{"":"question"},initialize:function(){console.log(App.data),this.questionsCount=App.data.questions.length,this.mainView=new n({el:"#main"}),this.mainView.render(),this.currentQuestion=0},question:function(){this.currentQuestion>=this.questionsCount?(this.mainView.showSummary(),window.ga("send",{hitType:"event",eventCategory:"view summary",eventAction:"click",eventLabel:"summary"})):(this.mainView.openQuestion(this.currentQuestion),window.ga("send",{hitType:"event",eventCategory:"view question",eventAction:"click",eventLabel:"question "+(this.currentQuestion+1)}))},next:function(){this.currentQuestion+=1,this.question()},restart:function(){this.mainView.resetAll(),this.currentQuestion=0,this.question(),window.ga("send",{hitType:"event",eventCategory:"restart",eventAction:"click",eventLabel:"back to first question"})},validate:function(e){var t=parseInt(e);return(_.isNaN(t)||-1>=t)&&(t=0),t}})}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("mediator-js",[],function(){return e.Mediator=t(),e.Mediator}):"undefined"!=typeof exports?exports.Mediator=t():e.Mediator=t()}(this,function(){"use strict";function e(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function t(n,i,r){return this instanceof t?(this.id=e(),this.fn=n,this.options=i,this.context=r,void(this.channel=null)):new t(n,i,r)}function n(e,t){return this instanceof n?(this.namespace=e||"",this._subscribers=[],this._channels={},this._parent=t,void(this.stopped=!1)):new n(e)}function i(){return this instanceof i?void(this._channels=new n("")):new i}return t.prototype.update=function(e){e&&(this.fn=e.fn||this.fn,this.context=e.context||this.context,this.options=e.options||this.options,this.channel&&this.options&&void 0!==this.options.priority&&this.channel.setPriority(this.id,this.options.priority))},n.prototype.addSubscriber=function(e,n,i){var r=new t(e,n,i);return n&&void 0!==n.priority?(n.priority=n.priority>>0,n.priority<0&&(n.priority=0),n.priority>=this._subscribers.length&&(n.priority=this._subscribers.length-1),this._subscribers.splice(n.priority,0,r)):this._subscribers.push(r),r.channel=this,r},n.prototype.stopPropagation=function(){this.stopped=!0},n.prototype.getSubscriber=function(e){var t=0,n=this._subscribers.length;for(n;n>t;t++)if(this._subscribers[t].id===e||this._subscribers[t].fn===e)return this._subscribers[t]},n.prototype.setPriority=function(e,t){var n,i,r,s,a=0,o=0;for(o=0,s=this._subscribers.length;s>o&&(this._subscribers[o].id!==e&&this._subscribers[o].fn!==e);o++)a++;n=this._subscribers[a],i=this._subscribers.slice(0,a),r=this._subscribers.slice(a+1),this._subscribers=i.concat(r),this._subscribers.splice(t,0,n)},n.prototype.addChannel=function(e){this._channels[e]=new n((this.namespace?this.namespace+":":"")+e,this)},n.prototype.hasChannel=function(e){return this._channels.hasOwnProperty(e)},n.prototype.returnChannel=function(e){return this._channels[e]},n.prototype.removeSubscriber=function(e){var t=this._subscribers.length-1;if(!e)return void(this._subscribers=[]);for(t;t>=0;t--)(this._subscribers[t].fn===e||this._subscribers[t].id===e)&&(this._subscribers[t].channel=null,this._subscribers.splice(t,1))},n.prototype.publish=function(e){var t,n,i,r=0,s=this._subscribers.length,a=!1;for(s;s>r;r++)a=!1,t=this._subscribers[r],this.stopped||(n=this._subscribers.length,void 0!==t.options&&"function"==typeof t.options.predicate?t.options.predicate.apply(t.context,e)&&(a=!0):a=!0),a&&(t.options&&void 0!==t.options.calls&&(t.options.calls--,t.options.calls<1&&this.removeSubscriber(t.id)),t.fn.apply(t.context,e),i=this._subscribers.length,s=i,i===n-1&&r--);this._parent&&this._parent.publish(e),this.stopped=!1},i.prototype.getChannel=function(e,t){var n=this._channels,i=e.split(":"),r=0,s=i.length;if(""===e)return n;if(i.length>0)for(s;s>r;r++){if(!n.hasChannel(i[r])){if(t)break;n.addChannel(i[r])}n=n.returnChannel(i[r])}return n},i.prototype.subscribe=function(e,t,n,i){var r=this.getChannel(e||"",!1);return n=n||{},i=i||{},r.addSubscriber(t,n,i)},i.prototype.once=function(e,t,n,i){return n=n||{},n.calls=1,this.subscribe(e,t,n,i)},i.prototype.getSubscriber=function(e,t){var n=this.getChannel(t||"",!0);return n.namespace!==t?null:n.getSubscriber(e)},i.prototype.remove=function(e,t){var n=this.getChannel(e||"",!0);return n.namespace!==e?!1:void n.removeSubscriber(t)},i.prototype.publish=function(e){var t=this.getChannel(e||"",!0);if(t.namespace!==e)return null;var n=Array.prototype.slice.call(arguments,1);n.push(t),t.publish(n)},i.prototype.on=i.prototype.subscribe,i.prototype.bind=i.prototype.subscribe,i.prototype.emit=i.prototype.publish,i.prototype.trigger=i.prototype.publish,i.prototype.off=i.prototype.remove,i.Channel=n,i.Subscriber=t,i.version="0.9.8",i}),define("resize",["require","underscore"],function(e){var t=e("underscore"),n=$(window),i=function(){};return i.prototype={initialize:function(){this.callback=t.debounce(this.onResize,100).bind(this),window.addEventListener("resize",this.callback),this.onResize()},onResize:function(){App.width=n.width(),App.height=n.height(),App.mediator.publish("resize",{width:App.width,height:App.height})}},new i}),define("analytics",[],function(){return function(e,t,n,i,r,s,a){e.GoogleAnalyticsObject=r,e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date,s=t.createElement(n),a=t.getElementsByTagName(n)[0],s.async=1,s.src=i,a.parentNode.insertBefore(s,a)}(window,document,"script","http://www.google-analytics.com/analytics.js","ga"),ga("create","UA-69348543-1","auto"),ga("send","pageview"),ga}),define("models/userModel",["require","backbone"],function(e){"use strict";var t=e("backbone"),n=t.Model.extend({initialize:function(){this.answers=this.resetValues(),this.values={}},resetValues:function(){this.values={};var e=[];return App.data.questions.forEach(function(t,n){var i={idx:n,chosenAnswer:null,value:null};e[n]=i}),e},getMaxPossibleTotal:function(){var e=0;return _.each(App.data.questions,function(t){var n=_.max(t.answers,function(e){return e.value});e+=n.value}),e},getMinPossibleTotal:function(){var e=0;return _.each(App.data.questions,function(t){var n=_.min(t.answers,function(e){return e.value});e+=n.value}),e},calculateTotals:function(){this.values.maxPossibleTotal=this.getMaxPossibleTotal(),this.values.minPossibleTotal=this.getMinPossibleTotal()},getTotalValue:function(){this.calculateTotals();var e=0;return App.user.answers.forEach(function(t,n){e+=t.value}),e},getPercent:function(){var e=this.values.total-this.values.minPossibleTotal,t=this.values.maxPossibleTotal-this.values.minPossibleTotal,n=Math.round(100*e/t);return n},getValue:function(e){var t=e||this.values.percent,n=["bad","medium","good"],i=0,r=100/3;return t>2*r?i=2:t>r&&(i=1),n[i]},calculateResults:function(){this.values.total=this.getTotalValue(),this.values.percent=this.getPercent(),this.values.title=this.getValue()}});return n}),define("app",["require","backbone","router","mediator-js","resize","analytics","models/userModel"],function(e){"use strict";window.App=window.App||{};var t=e("backbone"),n=e("router"),i=e("mediator-js");App.mediator=new i;var r=e("resize");r.initialize(),App.mainBreakpoint=940,App.maxSummaryHeight=768;var s=$("html");App.supportTransitions=s.hasClass("csstransitions"),App.isTouch=s.hasClass("touch"),App.isPhone=App.isTouch&&(App.width<481||App.height<481),App.isIE=s.hasClass("no-smil"),App.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,s.addClass((App.isFirefox?"":"no-")+"firefox"),App.isTouch&&document.addEventListener("touchstart",function(){},!0),window.console||(window.console={}),console.log||(console.log=function(){}),e("analytics"),$.ajax({url:"data/data.js",dataType:"jsonp",jsonpCallback:"callback",cache:!1,type:"GET",success:function(i){App.data=i;var r=e("models/userModel");App.user=new r,App.router=new n,t.history.start()}})}),require(["app"]);
//# sourceMappingURL=app.min.js.map